"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[10975],{15680:(e,n,t)=>{t.d(n,{xA:()=>m,yg:()=>c});var i=t(96540);function r(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function a(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function l(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?a(Object(t),!0).forEach((function(n){r(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):a(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function o(e,n){if(null==e)return{};var t,i,r=function(e,n){if(null==e)return{};var t,i,r={},a=Object.keys(e);for(i=0;i<a.length;i++)t=a[i],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)t=a[i],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var s=i.createContext({}),p=function(e){var n=i.useContext(s),t=n;return e&&(t="function"==typeof e?e(n):l(l({},n),e)),t},m=function(e){var n=p(e.components);return i.createElement(s.Provider,{value:n},e.children)},d="mdxType",u={inlineCode:"code",wrapper:function(e){var n=e.children;return i.createElement(i.Fragment,{},n)}},g=i.forwardRef((function(e,n){var t=e.components,r=e.mdxType,a=e.originalType,s=e.parentName,m=o(e,["components","mdxType","originalType","parentName"]),d=p(t),g=r,c=d["".concat(s,".").concat(g)]||d[g]||u[g]||a;return t?i.createElement(c,l(l({ref:n},m),{},{components:t})):i.createElement(c,l({ref:n},m))}));function c(e,n){var t=arguments,r=n&&n.mdxType;if("string"==typeof e||r){var a=t.length,l=new Array(a);l[0]=g;var o={};for(var s in n)hasOwnProperty.call(n,s)&&(o[s]=n[s]);o.originalType=e,o[d]="string"==typeof e?e:r,l[1]=o;for(var p=2;p<a;p++)l[p]=t[p];return i.createElement.apply(null,l)}return i.createElement.apply(null,t)}g.displayName="MDXCreateElement"},54575:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>s,contentTitle:()=>l,default:()=>u,frontMatter:()=>a,metadata:()=>o,toc:()=>p});var i=t(9668),r=(t(96540),t(15680));const a={description:"\u4f7f\u7528Wio Terminal\u624b\u52bf\u8bc6\u522b",title:"\u4f7f\u7528Wio Terminal\u624b\u52bf\u8bc6\u522b",keywords:["Wio_terminal","Embedded_ML","Projects_based_TensorFlow_Lite"],image:"https://files.seeedstudio.com/wiki/wiki-platform/S-tempor.png",slug:"/cn/Wio-Terminal-Gesture-Recognition",last_update:{date:"3/06/2024",author:"\u91d1\u83ca"}},l="\u4f7f\u7528 Wio Terminal \u8fdb\u884c\u673a\u5668\u5b66\u4e60 - \u624b\u52bf\u8bc6\u522b",o={unversionedId:"zh-CN/Sensor/Wio_Terminal/Application/Embedded_ML/Projects_based_TensorFlow_Lite/CN-Wio-Terminal-Gesture-Recognition",id:"zh-CN/Sensor/Wio_Terminal/Application/Embedded_ML/Projects_based_TensorFlow_Lite/CN-Wio-Terminal-Gesture-Recognition",title:"\u4f7f\u7528Wio Terminal\u624b\u52bf\u8bc6\u522b",description:"\u4f7f\u7528Wio Terminal\u624b\u52bf\u8bc6\u522b",source:"@site/docs/zh-CN/Sensor/Wio_Terminal/Application/Embedded_ML/Projects_based_TensorFlow_Lite/CN-Wio-Terminal-Gesture-Recognition.md",sourceDirName:"zh-CN/Sensor/Wio_Terminal/Application/Embedded_ML/Projects_based_TensorFlow_Lite",slug:"/cn/Wio-Terminal-Gesture-Recognition",permalink:"/cn/Wio-Terminal-Gesture-Recognition",draft:!1,editUrl:"https://github.com/Seeed-Studio/wiki-documents/blob/docusaurus-version/docs/zh-CN/Sensor/Wio_Terminal/Application/Embedded_ML/Projects_based_TensorFlow_Lite/CN-Wio-Terminal-Gesture-Recognition.md",tags:[],version:"current",lastUpdatedBy:"\u91d1\u83ca",lastUpdatedAt:1709683200,formattedLastUpdatedAt:"Mar 6, 2024",frontMatter:{description:"\u4f7f\u7528Wio Terminal\u624b\u52bf\u8bc6\u522b",title:"\u4f7f\u7528Wio Terminal\u624b\u52bf\u8bc6\u522b",keywords:["Wio_terminal","Embedded_ML","Projects_based_TensorFlow_Lite"],image:"https://files.seeedstudio.com/wiki/wiki-platform/S-tempor.png",slug:"/cn/Wio-Terminal-Gesture-Recognition",last_update:{date:"3/06/2024",author:"\u91d1\u83ca"}},sidebar:"CNSidebar",previous:{title:"\u8bed\u97f3\u8bc6\u522b\u548c\u8bed\u97f3-\u610f\u56fe",permalink:"/cn/Wio-Terminal-TinyML-TFLM-3"},next:{title:"\u5177\u5907AIoTs GPS\u7684LoRa\u8282\u70b9",permalink:"/cn/AIoTs_GPS_state_tester"}},s={},p=[{value:"\u96f6\u4ef6\u6e05\u5355",id:"\u96f6\u4ef6\u6e05\u5355",level:2},{value:"\u529f\u80fd",id:"\u529f\u80fd",level:2},{value:"\u6240\u9700\u7684Arduino\u5e93",id:"\u6240\u9700\u7684arduino\u5e93",level:2},{value:"\u4eceWio Terminal\u8bad\u7ec3IMU\u6570\u636e",id:"\u4ecewio-terminal\u8bad\u7ec3imu\u6570\u636e",level:2},{value:"\u6355\u83b7\u624b\u52bf\u8bad\u7ec3\u6570\u636e",id:"\u6355\u83b7\u624b\u52bf\u8bad\u7ec3\u6570\u636e",level:2},{value:"\u68c0\u67e5 <code>.csv</code> \u6587\u4ef6",id:"\u68c0\u67e5-csv-\u6587\u4ef6",level:2},{value:"\u5728TensorFlow\u4e2d\u8bad\u7ec3\u6570\u636e",id:"\u5728tensorflow\u4e2d\u8bad\u7ec3\u6570\u636e",level:2},{value:"\u5728 Google Colab \u9879\u76ee\u4e2d\u8fdb\u884c\u4fee\u6539",id:"\u5728-google-colab-\u9879\u76ee\u4e2d\u8fdb\u884c\u4fee\u6539",level:2},{value:"\u5c06\u4ee3\u7801\u4e0a\u4f20\u81f3 Wio Terminal",id:"\u5c06\u4ee3\u7801\u4e0a\u4f20\u81f3-wio-terminal",level:2},{value:"\u793a\u4f8b\u6a21\u578b\u6587\u4ef6",id:"\u793a\u4f8b\u6a21\u578b\u6587\u4ef6",level:2},{value:"\u6df1\u5c42\u5f00\u53d1",id:"\u6df1\u5c42\u5f00\u53d1",level:2}],m={toc:p},d="wrapper";function u(e){let{components:n,...t}=e;return(0,r.yg)(d,(0,i.A)({},m,t,{components:n,mdxType:"MDXLayout"}),(0,r.yg)("h1",{id:"\u4f7f\u7528-wio-terminal-\u8fdb\u884c\u673a\u5668\u5b66\u4e60---\u624b\u52bf\u8bc6\u522b"},"\u4f7f\u7528 Wio Terminal \u8fdb\u884c\u673a\u5668\u5b66\u4e60 - \u624b\u52bf\u8bc6\u522b"),(0,r.yg)("p",null,"\u5728\u672c\u6559\u7a0b\u4e2d\uff0c\u6211\u4eec\u4f7f\u7528Wio Terminal\u6765\u5efa\u7acb\u4e00\u4e2a\u7b80\u5355\u7684\u624b\u52bf\u8bc6\u522b\u673a\u5668\u5b66\u4e60\u6f14\u793a\uff0c\u901a\u8fc7 ",(0,r.yg)("strong",{parentName:"p"},"TensorFlow Lite")," \u5b9e\u73b0\u3002"),(0,r.yg)("div",{align:"center"},(0,r.yg)("img",{src:"https://files.seeedstudio.com/wiki/Wio-Terminal/img/TF.gif"})),(0,r.yg)("p",null,"\u8fd9\u4e2a\u793a\u4f8b\u662f\u57fa\u4e8eArduino\u56e2\u961f\u548cTensorFlow Lite\u56e2\u961f\u7684\u5b98\u65b9\u6f14\u793a\u8fdb\u884c\u4fee\u6539\u7684\u3002\u5982\u679c\u60a8\u60f3\u83b7\u53d6\u66f4\u591a\u4fe1\u606f\u548c\u53c2\u8003\u8d44\u6599\uff0c\u8bf7\u8bbf\u95ee ",(0,r.yg)("a",{parentName:"p",href:"https://blog.arduino.cc/2019/10/15/get-started-with-machine-learning-on-arduino/"},"Get started with machine learning on Arduino"),"\u3002\u4e3a\u4e86\u4f7f\u6f14\u793a\u4e0eWio Terminal\u517c\u5bb9\uff0c\u8fdb\u884c\u4e86\u4e00\u4e9b\u4fee\u6539\u3002"),(0,r.yg)("p",null,(0,r.yg)("em",{parentName:"p"},"\u53c2\u8003\u8d44\u6599:")," ",(0,r.yg)("a",{parentName:"p",href:"https://medium.com/tensorflow/how-to-get-started-with-machine-learning-on-arduino-7daf95b4157"},"\u5982\u4f55\u5728 Arduino\u4e0a\u5f00\u59cb\u673a\u5668\u5b66\u4e60")),(0,r.yg)("h2",{id:"\u96f6\u4ef6\u6e05\u5355"},"\u96f6\u4ef6\u6e05\u5355"),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},(0,r.yg)("a",{parentName:"p",href:"https://www.seeedstudio.com/Wio-Terminal-p-4509.html"},"Wio Terminal"))),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},(0,r.yg)("a",{parentName:"p",href:"https://www.seeedstudio.com/Wio-Terminal-Chassis-Battery-p-4516.html"},"Wio Terminal \u7535\u6c60\u5e95\u5ea7")))),(0,r.yg)("h2",{id:"\u529f\u80fd"},"\u529f\u80fd"),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"\u5728 Wio Terminal\u4e0a\u8fdb\u884c\u673a\u5668\u5b66\u4e60")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"\u624b\u52bf\u8bc6\u522b")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"TensorFlow Lite"))),(0,r.yg)("h2",{id:"\u6240\u9700\u7684arduino\u5e93"},"\u6240\u9700\u7684Arduino\u5e93"),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"\u5b89\u88c5\u5185\u7f6e\u52a0\u901f\u5ea6\u8ba1\u5e93 ",(0,r.yg)("inlineCode",{parentName:"p"},"Seeed_Arduino_LIS3DHTR"),", \u8bf7\u8bbf\u95ee ",(0,r.yg)("a",{parentName:"p",href:"https://wiki.seeedstudio.com/Wio-Terminal-IMU-Overview/"},"Wio Terminal IMU")," \u83b7\u53d6\u66f4\u591a\u4fe1\u606f\u3002")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"\u5b89\u88c5 ",(0,r.yg)("strong",{parentName:"p"},"Arduino TensorFlow Lite")," \u5e93, \u8bf7\u8bbf\u95ee ",(0,r.yg)("a",{parentName:"p",href:"https://wiki.seeedstudio.com/Wio-Terminal-TensonFlow/"},"Wio Terminal TensorFlow Lite")," \u83b7\u53d6\u66f4\u591a\u4fe1\u606f\u3002"))),(0,r.yg)("h2",{id:"\u4ecewio-terminal\u8bad\u7ec3imu\u6570\u636e"},"\u4eceWio Terminal\u8bad\u7ec3IMU\u6570\u636e"),(0,r.yg)("p",null,"\u4e0e\u5176\u4ed6\u673a\u5668\u5b66\u4e60\u9879\u76ee\u4e00\u6837\uff0c\u6211\u4eec\u5c06\u83b7\u53d6\u4e00\u4e9b\u4f20\u611f\u5668\u6570\u636e\uff0c\u7528\u4e8e\u540e\u7eed\u6a21\u578b\u7684\u8bad\u7ec3\u3002\u9996\u5148\uff0c\u6211\u4eec\u5c06\u8fd0\u884c\u4e00\u4e2a\u7b80\u5355\u7684Arduino\u7a0b\u5e8f\uff0c\u4eceWio Terminal\u6d41\u5f0f\u4f20\u8f93\u4f20\u611f\u5668\u6570\u636e\u3002"),(0,r.yg)("p",null,"\u590d\u5236\u4ee5\u4e0b\u4ee3\u7801\uff0c\u5e76\u5c06\u5176\u4e0a\u4f20\u5230Wio Terminal:"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-cpp"},'#include"LIS3DHTR.h"\nLIS3DHTR<TwoWire> lis;\n\nconst float accelerationThreshold = 2; // threshold of significant in G\'s\nconst int numSamples = 119;\n\nint samplesRead = numSamples;\n\nvoid setup() {\n  Serial.begin(9600);\n  lis.begin(Wire1);\n\n  if (!lis) {\n    Serial.println("ERROR");\n    while(1);\n  }\n  \n  lis.setOutputDataRate(LIS3DHTR_DATARATE_25HZ); //Data output rate\n  lis.setFullScaleRange(LIS3DHTR_RANGE_2G); //Scale range set to 2g\n\n  Serial.println("Acceleration in G\'s");\n  Serial.println("X\\tY\\tZ");\n}\n\nvoid loop() {\n  float x, y, z;\n  \n  while (samplesRead == numSamples) {\n    x=lis.getAccelerationX();\n    y=lis.getAccelerationY();\n    z=lis.getAccelerationZ();\n\n\n     float aSum = fabs(x) + fabs(y) + fabs(z);\n\n      // check if it\'s above the threshold\n      if (aSum >= accelerationThreshold) {\n        // reset the sample read count\n        samplesRead = 0;\n        break;\n      }\n  }\n\n  while (samplesRead < numSamples) {\n    x=lis.getAccelerationX();\n    y=lis.getAccelerationY();\n    z=lis.getAccelerationZ();\n\n    samplesRead++;\n\n    Serial.print(x, 3);\n    Serial.print(\',\');\n    Serial.print(y, 3);\n    Serial.print(\',\');\n    Serial.print(z, 3);\n    Serial.println();\n\n    if (samplesRead == numSamples) {\n      Serial.println();\n    }\n  }\n}\n')),(0,r.yg)("p",null,"\u6216\u8005\u4ece ",(0,r.yg)("a",{parentName:"p",href:"https://files.seeedstudio.com/wiki/Wio-Terminal/res/IMU.zip"},(0,r.yg)("strong",{parentName:"a"},"\u8fd9\u91cc"))," \u4e0b\u8f7d\u4ee3\u7801\uff0c\u5e76\u5c06\u5176\u4e0a\u4f20\u5230Wio Terminal\u3002\u5982\u679c\u60a8\u6253\u5f00\u4e32\u884c\u76d1\u89c6\u5668\uff0c\u60a8\u5e94\u8be5\u80fd\u591f\u770b\u5230IMU\u6570\u636e\u3002"),(0,r.yg)("h2",{id:"\u6355\u83b7\u624b\u52bf\u8bad\u7ec3\u6570\u636e"},"\u6355\u83b7\u624b\u52bf\u8bad\u7ec3\u6570\u636e"),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"\u5c06IMU \u6570\u636e \u6355\u83b7\u4e3a CSV\u683c\u5f0f")," \uff0c\u7528\u4e8e TensorFlow \uff1a"),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"\u6253\u5f00\u4e32\u884c\u76d1\u89c6\u5668\uff0c\u5e76\u62ff\u8d77Wio Terminal\u3002")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"\u8fdb\u884c\u4e00\u6b21\u62f3\u51fb\u624b\u52bf\uff0c\u786e\u4fdd\u60a8\u5df2\u89e6\u53d1\u6355\u83b7\u3002")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"\u91cd\u590d\u76f8\u540c\u7684\u52a8\u4f5c\u81f3\u5c1110\u6b21\uff0c\u8bad\u7ec3\u6570\u636e\u8d8a\u591a\u8d8a\u597d\u3002")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"\u91cd\u590d\u76f8\u540c\u7684\u52a8\u4f5c\u81f3\u5c1110\u6b21\uff0c\u8bad\u7ec3\u6570\u636e\u8d8a\u591a\u8d8a\u597d\u3002"))),(0,r.yg)("p",null,"\u5c06\u4e32\u884c\u76d1\u89c6\u5668\u4e2d\u7684\u6570\u636e\u590d\u5236\u7c98\u8d34\u5230\u4e00\u4e2a\u540d\u4e3a ",(0,r.yg)("strong",{parentName:"p"},(0,r.yg)("inlineCode",{parentName:"strong"},"punch.csv"))," \u7684\u65b0\u6587\u672c\u6587\u4ef6\u4e2d\u3002"),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},"\u6e05\u9664\u5e76\u91cd\u7f6eWio Terminal\uff0c\u7136\u540e\u6309\u7167\u4e0a\u8ff0\u6b65\u9aa4\u8fdb\u884c\u624b\u6307\u5f2f\u66f2\u624b\u52bf\uff0c\u4fdd\u5b58\u4e3a ",(0,r.yg)("strong",{parentName:"li"},(0,r.yg)("inlineCode",{parentName:"strong"},"flex.csv")),"\u3002")),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"\u6ce8:")," \u5982\u679c\u60a8\u4f7f\u7528\u7684\u662fLinux\u6216Mac\uff0c\u60a8\u53ef\u4ee5\u76f4\u63a5\u5c06Wio Terminal\u7684\u4f20\u611f\u5668\u6570\u636e\u8f93\u51fa\u5230\u4e00\u4e2a.csv\u6587\u4ef6\u4e2d\uff0c\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\uff1a"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-sh"}," cat /dev/cu.usbmodem[nnnnn] > punch.csv\n")),(0,r.yg)("div",{align:"center"},(0,r.yg)("img",{src:"https://files.seeedstudio.com/wiki/Wio-Terminal/img/IMU-data.png"})),(0,r.yg)("h2",{id:"\u68c0\u67e5-csv-\u6587\u4ef6"},"\u68c0\u67e5 ",(0,r.yg)("inlineCode",{parentName:"h2"},".csv")," \u6587\u4ef6"),(0,r.yg)("p",null,"\u6253\u5f00 ",(0,r.yg)("inlineCode",{parentName:"p"},"punch.csv")," \u548c ",(0,r.yg)("inlineCode",{parentName:"p"},"flex.csv")," \u6587\u4ef6\u5e76\u786e\u4fddcsv\u6587\u4ef6\u7684\u7b2c\u4e00\u884c\u662f ",(0,r.yg)("strong",{parentName:"p"},"aX,aY,aZ")," \u5982\u4e0b\u6240\u793a\uff1a"),(0,r.yg)("div",{align:"center"},(0,r.yg)("img",{src:"https://files.seeedstudio.com/wiki/Wio-Terminal/img/IMU-csv.png"})),(0,r.yg)("h2",{id:"\u5728tensorflow\u4e2d\u8bad\u7ec3\u6570\u636e"},"\u5728TensorFlow\u4e2d\u8bad\u7ec3\u6570\u636e"),(0,r.yg)("p",null,"\u5728\u8fd9\u91cc\uff0c\u6211\u4eec\u5c06\u4f7f\u7528\u7531Arduino\u56e2\u961f\u521b\u5efa\u7684 ",(0,r.yg)("strong",{parentName:"p"},"Google Colab project")," \u3002Colab\u63d0\u4f9b\u4e86\u4e00\u4e2aJupyter\u7b14\u8bb0\u672c\uff0c\u5141\u8bb8\u6211\u4eec\u5728Web\u6d4f\u89c8\u5668\u4e2d\u8fd0\u884cTensorFlow\u8bad\u7ec3\u3002Colab\u5c06\u8bbe\u7f6e\u73af\u5883\uff0c\u8bad\u7ec3\u6a21\u578b\uff0c\u5e76\u5c06\u6a21\u578b\u8f6c\u6362\u4e3aTensorFlow Lite\u6a21\u578b\uff0c\u5e76\u5c06\u6a21\u578b\u7f16\u7801\u4e3aArduino\u5934\u6587\u4ef6\u3002"),(0,r.yg)("p",null,"\u70b9\u51fb ",(0,r.yg)("a",{parentName:"p",href:"https://colab.research.google.com/github/arduino/ArduinoTensorFlowLiteTutorials/blob/master/GestureToEmoji/arduino_tinyml_workshop.ipynb"},(0,r.yg)("strong",{parentName:"a"},"\u8fd9\u91cc"))," \u8bbf\u95ee ",(0,r.yg)("strong",{parentName:"p"},"Google Colab project"),"."),(0,r.yg)("h2",{id:"\u5728-google-colab-\u9879\u76ee\u4e2d\u8fdb\u884c\u4fee\u6539"},"\u5728 Google Colab \u9879\u76ee\u4e2d\u8fdb\u884c\u4fee\u6539"),(0,r.yg)("p",null,"\u5728Google Colab\u9879\u76ee\u4e2d\u9700\u8981\u8fdb\u884c\u4e00\u4e9b\u4fee\u6539\uff0c\u4ee5\u9002\u5e94Wio Terminal\uff1a"),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"\u5728 ",(0,r.yg)("strong",{parentName:"p"},"Setup the Python Environment")," \u4e2d\u4e0d\u9700\u8981\u8fdb\u884c\u4efb\u4f55\u66f4\u6539\u3002")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"\u5728 ",(0,r.yg)("strong",{parentName:"p"},"Upload Data")," \u4e2d\u4e0d\u9700\u8981\u8fdb\u884c\u4efb\u4f55\u66f4\u6539\u3002")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"\u5728 ",(0,r.yg)("strong",{parentName:"p"},"Graph Data")," \u4e2d, \u5c06\u6240\u6709\u9640\u87ba\u4eea\u6570\u636e\u90e8\u5206\u6ce8\u91ca\u6389\uff0c\u5982\u4e0b\u6240\u793a\uff1a"))),(0,r.yg)("div",{align:"center"},(0,r.yg)("img",{src:"https://files.seeedstudio.com/wiki/Wio-Terminal/img/TF-step1.png"})),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},"\u5728 Parse and prepare the data \u4e2d, \u5c06\u6240\u6709\u9640\u87ba\u4eea\u6570\u636e\u90e8\u5206\u6ce8\u91ca\u6389\uff0c\u5982\u4e0b\u6240\u793a\uff1a")),(0,r.yg)("div",{align:"center"},(0,r.yg)("img",{src:"https://files.seeedstudio.com/wiki/Wio-Terminal/img/TF-step2.png"})),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"\u5728 ",(0,r.yg)("strong",{parentName:"p"},"Randomize and split the input and output pairs for training")," \u4e2d\u4e0d\u9700\u8981\u8fdb\u884c\u4efb\u4f55\u66f4\u6539\u3002")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"\u5728 ",(0,r.yg)("strong",{parentName:"p"},"Build & Train the Model")," \u4e2d\u4e0d\u9700\u8981\u8fdb\u884c\u4efb\u4f55\u66f4\u6539\u3002")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"\u5728 ",(0,r.yg)("strong",{parentName:"p"},"Graph the loss")," \u4e2d\u4e0d\u9700\u8981\u8fdb\u884c\u4efb\u4f55\u66f4\u6539\u3002")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"\u5728 ",(0,r.yg)("strong",{parentName:"p"},"Graph the loss again, skipping a bit of the start")," \u4e2d\u4e0d\u9700\u8981\u8fdb\u884c\u4efb\u4f55\u66f4\u6539\u3002")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"\u5728 ",(0,r.yg)("strong",{parentName:"p"},"Graph the mean absolute error")," \u4e2d\u4e0d\u9700\u8981\u8fdb\u884c\u4efb\u4f55\u66f4\u6539\u3002")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"\u5728 ",(0,r.yg)("strong",{parentName:"p"},"Run with Test Data")," \u4e2d\u4e0d\u9700\u8981\u8fdb\u884c\u4efb\u4f55\u66f4\u6539\u3002")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"\u5728 ",(0,r.yg)("strong",{parentName:"p"},"Convert the Trained Model to Tensor Flow Lite")," \u4e2d\u4e0d\u9700\u8981\u8fdb\u884c\u4efb\u4f55\u66f4\u6539\u3002")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"\u5728 ",(0,r.yg)("strong",{parentName:"p"},"Encode the Model in an Arduino Header File")," \u4e2d\u4e0d\u9700\u8981\u8fdb\u884c\u4efb\u4f55\u66f4\u6539\u3002"))),(0,r.yg)("p",null,"\u4ece\u5de6\u4fa7\u9762\u677f\u4e0b\u8f7d ",(0,r.yg)("strong",{parentName:"p"},(0,r.yg)("inlineCode",{parentName:"strong"},"model.h"))," \u6587\u4ef6\u3002"),(0,r.yg)("h2",{id:"\u5c06\u4ee3\u7801\u4e0a\u4f20\u81f3-wio-terminal"},"\u5c06\u4ee3\u7801\u4e0a\u4f20\u81f3 Wio Terminal"),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},"\u4e0b\u8f7d\u5b8c\u6a21\u578b\u7684\u5934\u6587\u4ef6\u540e\uff0c\u6253\u5f00 ",(0,r.yg)("a",{parentName:"li",href:"https://files.seeedstudio.com/wiki/Wio-Terminal/res/IMU_Classifier.zip"},"IMU_Classifier.ino")," \u6216\u8005\u5c06\u4ee5\u4e0b\u4ee3\u7801\u590d\u5236\u5230 Arduino IDE \u4e2d\u3002")),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-cpp"},'/*\n  IMU Classifier\n  This example uses the on-board IMU to start reading acceleration and gyroscope\n  data from on-board IMU, once enough samples are read, it then uses a\n  TensorFlow Lite (Micro) model to try to classify the movement as a known gesture.\n  Note: The direct use of C/C++ pointers, namespaces, and dynamic memory is generally\n        discouraged in Arduino examples, and in the future the TensorFlowLite library\n        might change to make the sketch simpler.\n  The circuit:\n  - Arduino Nano 33 BLE or Arduino Nano 33 BLE Sense board.\n  Created by Don Coleman, Sandeep Mistry\n  Modified by Dominic Pajak, Sandeep Mistry\n  This example code is in the public domain.\n\n  Modified to adapt for Wio Terminal - Anson (Seeed Studio)\n*/\n\n#undef min\n#undef max\n#include <TensorFlowLite.h>\n#include <tensorflow/lite/experimental/micro/kernels/all_ops_resolver.h>\n#include <tensorflow/lite/experimental/micro/micro_error_reporter.h>\n#include <tensorflow/lite/experimental/micro/micro_interpreter.h>\n#include <tensorflow/lite/schema/schema_generated.h>\n#include <tensorflow/lite/version.h>\n\n#include "model.h"\n#include"LIS3DHTR.h"\nLIS3DHTR<TwoWire> lis;\n\n\nconst float accelerationThreshold = 2; // threshold of significant in G\'s\nconst int numSamples = 119;\n\nint samplesRead = numSamples;\n\n// global variables used for TensorFlow Lite (Micro)\ntflite::MicroErrorReporter tflErrorReporter;\n\n// pull in all the TFLM ops, you can remove this line and\n// only pull in the TFLM ops you need, if would like to reduce\n// the compiled size of the sketch.\ntflite::ops::micro::AllOpsResolver tflOpsResolver;\n\nconst tflite::Model* tflModel = nullptr;\ntflite::MicroInterpreter* tflInterpreter = nullptr;\nTfLiteTensor* tflInputTensor = nullptr;\nTfLiteTensor* tflOutputTensor = nullptr;\n\n// Create a static memory buffer for TFLM, the size may need to\n// be adjusted based on the model you are using\nconstexpr int tensorArenaSize = 8 * 1024;\nbyte tensorArena[tensorArenaSize];\n\n// array to map gesture index to a name\nconst char* GESTURES[] = {\n  "punch",\n  "flex"\n};\n\n\n#define NUM_GESTURES (sizeof(GESTURES) / sizeof(GESTURES[0]))\n\nvoid setup() {\n  Serial.begin(9600);\n//  while (!Serial);\n\n  lis.begin(Wire1);\n  \n  // initialize the IMU\n  if (!lis) {\n    Serial.println("Failed to initialize IMU!");\n    while (1);\n  }\n\n\n  // get the TFL representation of the model byte array\n  tflModel = tflite::GetModel(model);\n  if (tflModel->version() != TFLITE_SCHEMA_VERSION) {\n    Serial.println("Model schema mismatch!");\n    while (1);\n  }\n\n  // Create an interpreter to run the model\n  tflInterpreter = new tflite::MicroInterpreter(tflModel, tflOpsResolver, tensorArena, tensorArenaSize, &tflErrorReporter);\n\n  // Allocate memory for the model\'s input and output tensors\n  tflInterpreter->AllocateTensors();\n\n  // Get pointers for the model\'s input and output tensors\n  tflInputTensor = tflInterpreter->input(0);\n  tflOutputTensor = tflInterpreter->output(0);\n}\n\nvoid loop() {\n  float x, y, z;\n\n  // wait for significant motion\n  while (samplesRead == numSamples) {\n    x=lis.getAccelerationX();\n    y=lis.getAccelerationY();\n    z=lis.getAccelerationZ();\n\n    float aSum = fabs(x) + fabs(y) + fabs(z);\n\n      // check if it\'s above the threshold\n      if (aSum >= accelerationThreshold) {\n        // reset the sample read count\n        samplesRead = 0;\n        break;\n      }\n  }\n\n  // check if the all the required samples have been read since\n  // the last time the significant motion was detected\n  while (samplesRead < numSamples) {\n    // check if new acceleration AND gyroscope data is available\n      // read the acceleration and gyroscope data\n      x=lis.getAccelerationX();\n      y=lis.getAccelerationY();\n      z=lis.getAccelerationZ();\n\n\n\n      // normalize the IMU data between 0 to 1 and store in the model\'s\n      // input tensor\n      tflInputTensor->data.f[samplesRead * 6 + 0] = (x + 4.0) / 8.0;\n      tflInputTensor->data.f[samplesRead * 6 + 1] = (y + 4.0) / 8.0;\n      tflInputTensor->data.f[samplesRead * 6 + 2] = (z + 4.0) / 8.0;\n\n      samplesRead++;\n\n      if (samplesRead == numSamples) {\n        // Run inferencing\n        TfLiteStatus invokeStatus = tflInterpreter->Invoke();\n        if (invokeStatus != kTfLiteOk) {\n          Serial.println("Invoke failed!");\n          while (1);\n          return;\n        }\n\n        // Loop through the output tensor values from the model\n        for (int i = 0; i < NUM_GESTURES; i++) {\n          Serial.print(GESTURES[i]);\n          Serial.print(": ");\n          Serial.println(tflOutputTensor->data.f[i], 6);\n        }\n        Serial.println();\n      }\n  }\n}\n')),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"\u5c06\u8bad\u7ec3\u597d\u7684 ",(0,r.yg)("inlineCode",{parentName:"p"},"model.h")," \u5934\u6587\u4ef6\u653e\u7f6e\u5728\u4e0e IMU_Classifier.ino \u6587\u4ef6\u76f8\u540c\u7684\u6587\u4ef6\u5939\u4e2d\uff0c\u7136\u540e\u5c06\u4ee3\u7801\u4e0a\u4f20\u5230 Wio Terminal\u3002")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"\u73b0\u5728\uff0c\u6253\u5f00\u4e32\u53e3\u76d1\u89c6\u5668\u5e76\u6267\u884c\u624b\u52bf\uff01\u60a8\u5e94\u8be5\u4f1a\u770b\u5230\u6253\u5370\u51fa\u6bcf\u4e2a\u624b\u52bf\u7684\u7f6e\u4fe1\u5ea6\uff080 \u8868\u793a\u4f4e\u7f6e\u4fe1\u5ea6\uff0c1 \u8868\u793a\u9ad8\u7f6e\u4fe1\u5ea6\uff09\u3002"))),(0,r.yg)("div",{align:"center"},(0,r.yg)("img",{src:"https://files.seeedstudio.com/wiki/Wio-Terminal/img/TF-step3.png"})),(0,r.yg)("h2",{id:"\u793a\u4f8b\u6a21\u578b\u6587\u4ef6"},"\u793a\u4f8b\u6a21\u578b\u6587\u4ef6"),(0,r.yg)("p",null,"\u4e3a\u4e86\u53c2\u8003\uff0c\u6211\u9644\u4e0a\u4e86\u8bad\u7ec3\u597d\u7684 ",(0,r.yg)("a",{parentName:"p",href:"https://files.seeedstudio.com/wiki/Wio-Terminal/res/model.h"},"model.h")," \u6587\u4ef6\u4f9b\u4e0b\u8f7d\u3002\u60a8\u53ef\u4ee5\u5c06\u5176\u4e0e IMU_Classifier.ino \u4e00\u8d77\u4f7f\u7528\u8fdb\u884c\u6d4b\u8bd5\u3002"),(0,r.yg)("h2",{id:"\u6df1\u5c42\u5f00\u53d1"},"\u6df1\u5c42\u5f00\u53d1"),(0,r.yg)("p",null,"\u5173\u4e8e\u6df1\u5c42\u5f00\u53d1\uff0c\u53ef\u4ee5\u901a\u8fc7 IMU \u5728 Wio Terminal \u4e0a\u8bad\u7ec3\u66f4\u591a\u624b\u52bf\uff0c\u5e76\u89e6\u53d1\u4e0d\u540c\u7684\u8f93\u51fa\uff01\u5c1d\u8bd5\u5728\u5fae\u63a7\u5236\u5668\u4e0a\u4f7f\u7528 TensorFlow Lite \u8fdb\u884c\u673a\u5668\u5b66\u4e60\uff01"))}u.isMDXComponent=!0}}]);
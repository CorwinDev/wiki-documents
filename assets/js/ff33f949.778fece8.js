"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[42955],{15680:(e,t,n)=>{n.d(t,{xA:()=>p,yg:()=>h});var o=n(96540);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},a=Object.keys(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var l=o.createContext({}),d=function(e){var t=o.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):s(s({},t),e)),n},p=function(e){var t=d(e.components);return o.createElement(l.Provider,{value:t},e.children)},g="mdxType",c={inlineCode:"code",wrapper:function(e){var t=e.children;return o.createElement(o.Fragment,{},t)}},u=o.forwardRef((function(e,t){var n=e.components,r=e.mdxType,a=e.originalType,l=e.parentName,p=i(e,["components","mdxType","originalType","parentName"]),g=d(n),u=r,h=g["".concat(l,".").concat(u)]||g[u]||c[u]||a;return n?o.createElement(h,s(s({ref:t},p),{},{components:n})):o.createElement(h,s({ref:t},p))}));function h(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var a=n.length,s=new Array(a);s[0]=u;var i={};for(var l in t)hasOwnProperty.call(t,l)&&(i[l]=t[l]);i.originalType=e,i[g]="string"==typeof e?e:r,s[1]=i;for(var d=2;d<a;d++)s[d]=n[d];return o.createElement.apply(null,s)}return o.createElement.apply(null,n)}u.displayName="MDXCreateElement"},46349:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>s,default:()=>c,frontMatter:()=>a,metadata:()=>i,toc:()=>d});var o=n(58168),r=(n(96540),n(15680));const a={description:"Send message from Watcher to Node-Red",title:"Watcher to Node-RED",keywords:["watcher","Node-Red"],image:"https://files.seeedstudio.com/wiki/watcher_getting_started/cover.png",slug:"/watcher_to_node_red",sidebar_position:1,last_update:{date:"06/28/2024",author:"Allen"}},s="Watcher to Node-RED Quick Start",i={unversionedId:"Sensor/SenseCAP/SenseCAP_Watcher/Applications/node_red_integration/watcher_node_red",id:"Sensor/SenseCAP/SenseCAP_Watcher/Applications/node_red_integration/watcher_node_red",title:"Watcher to Node-RED",description:"Send message from Watcher to Node-Red",source:"@site/docs/Sensor/SenseCAP/SenseCAP_Watcher/Applications/node_red_integration/watcher_node_red.md",sourceDirName:"Sensor/SenseCAP/SenseCAP_Watcher/Applications/node_red_integration",slug:"/watcher_to_node_red",permalink:"/watcher_to_node_red",draft:!1,editUrl:"https://github.com/Seeed-Studio/wiki-documents/blob/docusaurus-version/docs/Sensor/SenseCAP/SenseCAP_Watcher/Applications/node_red_integration/watcher_node_red.md",tags:[],version:"current",lastUpdatedBy:"Allen",lastUpdatedAt:1719532800,formattedLastUpdatedAt:"Jun 28, 2024",sidebarPosition:1,frontMatter:{description:"Send message from Watcher to Node-Red",title:"Watcher to Node-RED",keywords:["watcher","Node-Red"],image:"https://files.seeedstudio.com/wiki/watcher_getting_started/cover.png",slug:"/watcher_to_node_red",sidebar_position:1,last_update:{date:"06/28/2024",author:"Allen"}},sidebar:"ProductSidebar",previous:{title:"Node-RED Integration",permalink:"/node_red_integration_main_page"},next:{title:"Watcher & Node-RED to IFTTT",permalink:"/watcher_node_red_to_ifttt"}},l={},d=[{value:"Part 1. Install Node.js\xae",id:"part-1-install-nodejs",level:2},{value:"Part 2. Install Node-RED",id:"part-2-install-node-red",level:2},{value:"Part 3. Get Watcher API Key",id:"part-3-get-watcher-api-key",level:2},{value:"Part 4. Run a task in Watcher",id:"part-4-run-a-task-in-watcher",level:2},{value:"Part 5. Create a SenseCAP node",id:"part-5-create-a-sensecap-node",level:2},{value:"Install SenseCAP Module",id:"install-sensecap-module",level:3},{value:"sensecap node",id:"sensecap-node",level:3},{value:"Tech Support &amp; Product Discussion",id:"tech-support--product-discussion",level:2}],p={toc:d},g="wrapper";function c(e){let{components:t,...n}=e;return(0,r.yg)(g,(0,o.A)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,r.yg)("h1",{id:"watcher-to-node-red-quick-start"},"Watcher to Node-RED Quick Start"),(0,r.yg)("p",null,(0,r.yg)("a",{parentName:"p",href:"https://nodered.org/"},(0,r.yg)("strong",{parentName:"a"},"Node-RED"))," is a programming tool for wiring together hardware devices, APIs and online services in new and interesting ways."),(0,r.yg)("p",null,"It provides a browser-based editor that makes it easy to wire together flows using the wide range of nodes in the palette that can be deployed to its runtime in a single-click."),(0,r.yg)("div",{style:{textAlign:"center"}},(0,r.yg)("img",{src:"https://files.seeedstudio.com/wiki/watcher_nodered_setup/cover.png",style:{width:1e3,height:"auto"}})),(0,r.yg)("p",null,"To make it easier for our users to ",(0,r.yg)("strong",{parentName:"p"},"connect data from the Watcher to various other Paas platforms for more in-depth data processing"),". For example. from Watcher to IFTTT, Telegram, Twilio etc. We will do a series of tutorials for ",(0,r.yg)("strong",{parentName:"p"},"Watcher & Node-RED"),"."),(0,r.yg)("p",null,"This tutorial, the first in a series, will walk you through installing and using Node-red and calling the Watcher API to connect to Node-RED."),(0,r.yg)("h2",{id:"part-1-install-nodejs"},"Part 1. Install Node.js\xae"),(0,r.yg)("p",null,"To install Node-RED locally you will need a ",(0,r.yg)("a",{parentName:"p",href:"https://nodered.org/docs/faq/node-versions"},"supported version of Node.js"),"."),(0,r.yg)("p",null,"Download the latest 14.x LTS version of Node.js from the official ",(0,r.yg)("a",{parentName:"p",href:"https://nodejs.org/en/"},"Node.js home page"),". It will offer you the best version for your system."),(0,r.yg)("div",{align:"center"},(0,r.yg)("img",{width:600,src:"https://files.seeedstudio.com/wiki/k1100-nodered/1.png"})),(0,r.yg)("admonition",{type:"note"},(0,r.yg)("p",{parentName:"admonition"},"Run the downloaded MSI file. Installing Node.js requires local administrator rights; if you are not a local administrator, you will be prompted for an administrator password on install. Accept the defaults when installing. After installation completes, close any open command prompts and re-open to ensure new environment variables are picked up.")),(0,r.yg)("p",null,"When installing Node.js, if you are using a computer that has not had any programming environment installed, we would recommend that you check the box to install the necessary tools while installing Node.js, which will save you a lot of necessary trouble."),(0,r.yg)("div",{align:"center"},(0,r.yg)("img",{width:600,src:"https://files.seeedstudio.com/wiki/k1100-nodered/2.png"})),(0,r.yg)("p",null,"The easiest way to install Node-RED is, using Node's package management tool, ",(0,r.yg)("strong",{parentName:"p"},"npm"),". However, we do not recommend installing Node-RED with npm 1.x, but rather upgrading it to the latest ",(0,r.yg)("strong",{parentName:"p"},"npm 2.x")," version."),(0,r.yg)("admonition",{type:"note"},(0,r.yg)("p",{parentName:"admonition"},"On ",(0,r.yg)("strong",{parentName:"p"},"Windows")," (Requires Windows 10 and above), use the ",(0,r.yg)("strong",{parentName:"p"},"Win+R")," shortcut and type ",(0,r.yg)("inlineCode",{parentName:"p"},"cmd")," in the pop-up window to bring up the terminal and execute the following command."),(0,r.yg)("p",{parentName:"admonition"},"If you are using ",(0,r.yg)("strong",{parentName:"p"},"MacOS")," or ",(0,r.yg)("strong",{parentName:"p"},"Linux"),", please execute the following command in the terminal and add ",(0,r.yg)("inlineCode",{parentName:"p"},"sudo")," in front of the command for non-root users.")),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-sh"},"npm install -g npm@2.x\n")),(0,r.yg)("p",null,"Once installed, open a command prompt and run the following command to ensure Node.js and npm are installed correctly."),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-sh"},"node --version && npm --version\n")),(0,r.yg)("p",null,"You should receive back output that looks similar to:"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-sh"},"> v16.17.0\n> 2.15.12\n")),(0,r.yg)("h2",{id:"part-2-install-node-red"},"Part 2. Install Node-RED"),(0,r.yg)("p",null,"Installing Node-RED as a global module adds the command ",(0,r.yg)("inlineCode",{parentName:"p"},"node-red")," to your system path. Execute the following at the command prompt:"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-sh"},"npm install -g --unsafe-perm node-red\n")),(0,r.yg)("p",null,"If Node-RED is installed as a global npm package, then execute the command node-red directly:"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-sh"},"node-red\n")),(0,r.yg)("p",null,"This will output the Node-RED log to the terminal. You must keep the terminal open in order to keep Node-RED running."),(0,r.yg)("div",{align:"center"},(0,r.yg)("img",{width:700,src:"https://files.seeedstudio.com/wiki/k1100-nodered/3.png"})),(0,r.yg)("p",null,"This will allow you to see the Node-RED editor on http://localhost:1880."),(0,r.yg)("div",{align:"center"},(0,r.yg)("img",{width:800,src:"https://files.seeedstudio.com/wiki/k1100-nodered/4.png"})),(0,r.yg)("h2",{id:"part-3-get-watcher-api-key"},"Part 3. Get Watcher API Key"),(0,r.yg)("p",null,"Open your SenseCraft APP and follow the steps below to get ",(0,r.yg)("strong",{parentName:"p"},"Organization ID")," and ",(0,r.yg)("strong",{parentName:"p"},"API Key"),"."),(0,r.yg)("div",{class:"table-center"},(0,r.yg)("table",{align:"center"},(0,r.yg)("tr",null,(0,r.yg)("th",null,"Page 1"),(0,r.yg)("th",null,"Page 2"),(0,r.yg)("th",null,"Page 3")),(0,r.yg)("tr",null,(0,r.yg)("td",null,(0,r.yg)("div",{style:{textAlign:"center"}},(0,r.yg)("img",{src:"https://files.seeedstudio.com/wiki/watcher_nodered_setup/first.png",style:{width:200,height:"auto"}}))),(0,r.yg)("td",null,(0,r.yg)("div",{style:{textAlign:"center"}},(0,r.yg)("img",{src:"https://files.seeedstudio.com/wiki/watcher_nodered_setup/1.svg",style:{width:200,height:"auto"}}))),(0,r.yg)("td",null,(0,r.yg)("div",{style:{textAlign:"center"}},(0,r.yg)("img",{src:"https://files.seeedstudio.com/wiki/watcher_nodered_setup/2.svg",style:{width:200,height:"auto"}})))),(0,r.yg)("tr",null,(0,r.yg)("th",null,"Page 4"),(0,r.yg)("th",null,"Page 5"),(0,r.yg)("th",null,"Page 6")),(0,r.yg)("tr",null,(0,r.yg)("td",null,(0,r.yg)("div",{style:{textAlign:"center"}},(0,r.yg)("img",{src:"https://files.seeedstudio.com/wiki/watcher_nodered_setup/3.svg",style:{width:200,height:"auto"}}))),(0,r.yg)("td",null,(0,r.yg)("div",{style:{textAlign:"center"}},(0,r.yg)("img",{src:"https://files.seeedstudio.com/wiki/watcher_nodered_setup/4.svg",style:{width:200,height:"auto"}}))),(0,r.yg)("td",null,(0,r.yg)("div",{style:{textAlign:"center"}},(0,r.yg)("img",{src:"https://files.seeedstudio.com/wiki/watcher_nodered_setup/5.svg",style:{width:200,height:"auto"}})))))),(0,r.yg)("h2",{id:"part-4-run-a-task-in-watcher"},"Part 4. Run a task in Watcher"),(0,r.yg)("p",null,"Tell Watcher what you want it to help you. You just need to input some commands in the input box. For example, ",(0,r.yg)("strong",{parentName:"p"},"Notify me when detect people")," or ",(0,r.yg)("strong",{parentName:"p"},"Tell me if there is a fire"),". If you want to know more, ",(0,r.yg)("a",{parentName:"p",href:"https://wiki.seeedstudio.com/getting_started_with_watcher_task/"},(0,r.yg)("strong",{parentName:"a"},"please jump here")),"."),(0,r.yg)("p",null,"So Watcher will notify you via SenseCraft APP as well as audio alerts and flashing RGB light when it detects a fire."),(0,r.yg)("div",{style:{textAlign:"center"}},(0,r.yg)("img",{src:"https://files.seeedstudio.com/wiki/watcher_nodered_setup/svg10.svg",style:{width:600,height:"auto"}})),(0,r.yg)("h2",{id:"part-5-create-a-sensecap-node"},"Part 5. Create a SenseCAP node"),(0,r.yg)("h3",{id:"install-sensecap-module"},"Install SenseCAP Module"),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Step 1.")," Click the three bars icon and then click ",(0,r.yg)("strong",{parentName:"p"},"Manage palette")," option."),(0,r.yg)("div",{style:{textAlign:"center"}},(0,r.yg)("img",{src:"https://files.seeedstudio.com/wiki/watcher_nodered_setup/1.png",style:{width:800,height:"auto"}})),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Step 2.")," Click ",(0,r.yg)("strong",{parentName:"p"},"Install")," option, input ",(0,r.yg)("strong",{parentName:"p"},"sensecap")," to search, and then ",(0,r.yg)("strong",{parentName:"p"},"install")," it."),(0,r.yg)("div",{style:{textAlign:"center"}},(0,r.yg)("img",{src:"https://files.seeedstudio.com/wiki/watcher_nodered_setup/2.png",style:{width:600,height:"auto"}})),(0,r.yg)("h3",{id:"sensecap-node"},"sensecap node"),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Step 1.")," Drag ",(0,r.yg)("strong",{parentName:"p"},"OpenStream")," and ",(0,r.yg)("strong",{parentName:"p"},"debug")," module to workspace area and then ",(0,r.yg)("strong",{parentName:"p"},"connect")," them with line."),(0,r.yg)("div",{style:{textAlign:"center"}},(0,r.yg)("img",{src:"https://files.seeedstudio.com/wiki/watcher_nodered_setup/3.png",style:{width:800,height:"auto"}})),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Step 2.")," ",(0,r.yg)("strong",{parentName:"p"},"Double click")," OpenStram module and then it will open a side window. Give it a name and create a new account."),(0,r.yg)("div",{style:{textAlign:"center"}},(0,r.yg)("img",{src:"https://files.seeedstudio.com/wiki/watcher_nodered_setup/4.png",style:{width:800,height:"auto"}})),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Step 3.")," Name your account and input your ",(0,r.yg)("strong",{parentName:"p"},"Organization ID")," and ",(0,r.yg)("strong",{parentName:"p"},"API key")," you got just now."),(0,r.yg)("div",{style:{textAlign:"center"}},(0,r.yg)("img",{src:"https://files.seeedstudio.com/wiki/watcher_nodered_setup/5.png",style:{width:800,height:"auto"}})),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Step 4.")," Click the ",(0,r.yg)("strong",{parentName:"p"},"Done")," button to get all message from platfrom or you can select specified message you want to receive. For example, if you just want to receive your Watcher message, you can fill in the ",(0,r.yg)("strong",{parentName:"p"},"EUI")," code that can be found in device ",(0,r.yg)("strong",{parentName:"p"},"Setting")," -> ",(0,r.yg)("strong",{parentName:"p"},"About Device")," or the message in ",(0,r.yg)("strong",{parentName:"p"},"Step 6"),"."),(0,r.yg)("div",{style:{textAlign:"center"}},(0,r.yg)("img",{src:"https://files.seeedstudio.com/wiki/watcher_nodered_setup/6.png",style:{width:800,height:"auto"}})),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Step 5.")," Click the ",(0,r.yg)("strong",{parentName:"p"},"Deploy")," button. This button just like compile and run button. Whatever you change, you need to click this button."),(0,r.yg)("div",{style:{textAlign:"center"}},(0,r.yg)("img",{src:"https://files.seeedstudio.com/wiki/watcher_nodered_setup/7.png",style:{width:800,height:"auto"}})),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Step 6.")," After that, you will see a connected sign, which means it works as expected. When Watcher sends messages you will receive them in Node-RED."),(0,r.yg)("div",{style:{textAlign:"center"}},(0,r.yg)("img",{src:"https://files.seeedstudio.com/wiki/watcher_nodered_setup/9.png",style:{width:800,height:"auto"}})),(0,r.yg)("p",null,"Congratulations\uff01Now the data is transmit from Watcher to Node-RED successfully. Next wiki we will walk you through how the data from Watcher to other platform, welcome to try~"),(0,r.yg)("h2",{id:"tech-support--product-discussion"},"Tech Support & Product Discussion"),(0,r.yg)("p",null,"Thank you for choosing our products! We are here to provide you with different support to ensure that your experience with our products is as smooth as possible. We offer several communication channels to cater to different preferences and needs."),(0,r.yg)("div",{class:"button_tech_support_container"},(0,r.yg)("a",{href:"https://forum.seeedstudio.com/",class:"button_forum"}),(0,r.yg)("a",{href:"https://www.seeedstudio.com/contacts",class:"button_email"})),(0,r.yg)("div",{class:"button_tech_support_container"},(0,r.yg)("a",{href:"https://discord.gg/eWkprNDMU7",class:"button_discord"}),(0,r.yg)("a",{href:"https://github.com/Seeed-Studio/wiki-documents/discussions/69",class:"button_discussion"})))}c.isMDXComponent=!0}}]);
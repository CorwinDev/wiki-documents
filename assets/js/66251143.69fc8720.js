"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[82341],{15680:(e,t,n)=>{n.d(t,{xA:()=>p,yg:()=>y});var i=n(96540);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n,i,o={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var s=i.createContext({}),d=function(e){var t=i.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):a(a({},t),e)),n},p=function(e){var t=d(e.components);return i.createElement(s.Provider,{value:t},e.children)},u="mdxType",c={inlineCode:"code",wrapper:function(e){var t=e.children;return i.createElement(i.Fragment,{},t)}},g=i.forwardRef((function(e,t){var n=e.components,o=e.mdxType,r=e.originalType,s=e.parentName,p=l(e,["components","mdxType","originalType","parentName"]),u=d(n),g=o,y=u["".concat(s,".").concat(g)]||u[g]||c[g]||r;return n?i.createElement(y,a(a({ref:t},p),{},{components:n})):i.createElement(y,a({ref:t},p))}));function y(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var r=n.length,a=new Array(r);a[0]=g;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l[u]="string"==typeof e?e:o,a[1]=l;for(var d=2;d<r;d++)a[d]=n[d];return i.createElement.apply(null,a)}return i.createElement.apply(null,n)}g.displayName="MDXCreateElement"},65849:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>a,default:()=>c,frontMatter:()=>r,metadata:()=>l,toc:()=>d});var i=n(58168),o=(n(96540),n(15680));const r={description:"Seeed Studio XIAO ESP32C3 with CircuitPython",title:"XIAO ESP32C3 with CircuitPython",keywords:["xiao","esp32c3","circuitpython"],image:"https://files.seeedstudio.com/wiki/esp32c3_circuitpython/title.png",slug:"/xiao_esp32c3_with_circuitpython",last_update:{date:"08/14/2024",author:"Evelyn Chen"}},a="**Seeed Studio XIAO ESP32C3 with CircuitPython**",l={unversionedId:"Sensor/SeeedStudio_XIAO/SeeedStudio_XIAO_ESP32C3/XIAO_ESP32C3_with_CircuitPython",id:"Sensor/SeeedStudio_XIAO/SeeedStudio_XIAO_ESP32C3/XIAO_ESP32C3_with_CircuitPython",title:"XIAO ESP32C3 with CircuitPython",description:"Seeed Studio XIAO ESP32C3 with CircuitPython",source:"@site/docs/Sensor/SeeedStudio_XIAO/SeeedStudio_XIAO_ESP32C3/XIAO_ESP32C3_with_CircuitPython.md",sourceDirName:"Sensor/SeeedStudio_XIAO/SeeedStudio_XIAO_ESP32C3",slug:"/xiao_esp32c3_with_circuitpython",permalink:"/xiao_esp32c3_with_circuitpython",draft:!1,editUrl:"https://github.com/Seeed-Studio/wiki-documents/blob/docusaurus-version/docs/Sensor/SeeedStudio_XIAO/SeeedStudio_XIAO_ESP32C3/XIAO_ESP32C3_with_CircuitPython.md",tags:[],version:"current",lastUpdatedBy:"Evelyn Chen",lastUpdatedAt:1723593600,formattedLastUpdatedAt:"Aug 14, 2024",frontMatter:{description:"Seeed Studio XIAO ESP32C3 with CircuitPython",title:"XIAO ESP32C3 with CircuitPython",keywords:["xiao","esp32c3","circuitpython"],image:"https://files.seeedstudio.com/wiki/esp32c3_circuitpython/title.png",slug:"/xiao_esp32c3_with_circuitpython",last_update:{date:"08/14/2024",author:"Evelyn Chen"}},sidebar:"ProductSidebar",previous:{title:"XIAO ESP32C3 with Zephyr(RTOS)",permalink:"/XIAO-ESP32C3-Zephyr"},next:{title:"XIAO ESP32C3 with MicroPython",permalink:"/xiao_esp32c3_with_micropython"}},s={},d=[{value:"Installing CircuitPython",id:"installing-circuitpython",level:2},{value:"Method 1: Command line esptool",id:"method-1-command-line-esptool",level:3},{value:"Install Esptool",id:"install-esptool",level:4},{value:"Download the XIAO ESP32C3 CircuitPython firmware",id:"download-the-xiao-esp32c3-circuitpython-firmware",level:4},{value:"Connect the XIAO ESP32C3 on your PC",id:"connect-the-xiao-esp32c3-on-your-pc",level:4},{value:"Check port",id:"check-port",level:4},{value:"Erase flash",id:"erase-flash",level:4},{value:"Write flash",id:"write-flash",level:4},{value:"Method 2: Web Serial esptool",id:"method-2-web-serial-esptool",level:3},{value:"Recommended Editors for CircuitPython",id:"recommended-editors-for-circuitpython",level:2},{value:"1. Thonny",id:"1-thonny",level:3},{value:"2. CircuitPython Web Workflow",id:"2-circuitpython-web-workflow",level:3},{value:"Pinout/Port Information",id:"pinoutport-information",level:2},{value:"Getting Started with CircuitPython on the XIAO ESP32C3",id:"getting-started-with-circuitpython-on-the-xiao-esp32c3",level:2},{value:"Network-WLAN",id:"network-wlan",level:3},{value:"Delay and timing",id:"delay-and-timing",level:3},{value:"Pins and GPIO",id:"pins-and-gpio",level:3},{value:"UART(serial bus)",id:"uartserial-bus",level:3},{value:"PWM(pulse width modulation)",id:"pwmpulse-width-modulation",level:3},{value:"ADC(analog to digital conversion)",id:"adcanalog-to-digital-conversion",level:3},{value:"SPI",id:"spi",level:3},{value:"I2C",id:"i2c",level:3},{value:"Expension Board Base for XIAO",id:"expension-board-base-for-xiao",level:3},{value:"Read the light sensor data",id:"read-the-light-sensor-data",level:4},{value:"Light up OLED screen",id:"light-up-oled-screen",level:4},{value:"&quot;Uninstalling&quot; CircuitPython",id:"uninstalling-circuitpython",level:2},{value:"Backup your Code",id:"backup-your-code",level:3},{value:"Moving to Arduino",id:"moving-to-arduino",level:3},{value:"Resources",id:"resources",level:2},{value:"Tech Support &amp; Product Discussion",id:"tech-support--product-discussion",level:2}],p={toc:d},u="wrapper";function c(e){let{components:t,...n}=e;return(0,o.yg)(u,(0,i.A)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,o.yg)("h1",{id:"seeed-studio-xiao-esp32c3-with-circuitpython"},(0,o.yg)("strong",{parentName:"h1"},"Seeed Studio XIAO ESP32C3 with CircuitPython")),(0,o.yg)("div",{align:"center"},(0,o.yg)("img",{width:800,src:"https://files.seeedstudio.com/wiki/esp32c3_circuitpython/title.png"})),(0,o.yg)("p",null,"This wiki introduce how to install and run the official CircuitPython by Adafruit Industries on the Seeed Studio XIAO ESP32C3 development board!\nCircuitPython is a programming language designed to simplify experimenting and learning to program on low-cost microcontroller boards. It makes getting started easier than ever with no upfront desktop downloads needed. Once you get your board set up, open any text editor, and get started editing code. For more info, please refer to ",(0,o.yg)("a",{parentName:"p",href:"https://learn.adafruit.com/welcome-to-circuitpython/what-is-circuitpython"},"here"),"."),(0,o.yg)("h2",{id:"installing-circuitpython"},"Installing CircuitPython"),(0,o.yg)("h3",{id:"method-1-command-line-esptool"},"Method 1: Command line esptool"),(0,o.yg)("h4",{id:"install-esptool"},"Install Esptool"),(0,o.yg)("p",null,"If you haven't already installed esptool.py, you can do so using pip on your pc:"),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-linux"},"pip install esptool\n")),(0,o.yg)("h4",{id:"download-the-xiao-esp32c3-circuitpython-firmware"},"Download the XIAO ESP32C3 CircuitPython firmware"),(0,o.yg)("p",null,"You need to download the firmware binary file from ",(0,o.yg)("a",{parentName:"p",href:"https://circuitpython.org/board/seeed_xiao_esp32c3/"},"circirtpython.org"),"\nAfter downloading correct bin file, navigate to the folder, and open a cmd terminal there.\nAs of the final draft, the latest version of bin file is:"),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre"},"adafruit-circuitpython-seeed_xiao_esp32c3-en_GB-9.1.1.bin\n")),(0,o.yg)("h4",{id:"connect-the-xiao-esp32c3-on-your-pc"},"Connect the XIAO ESP32C3 on your PC"),(0,o.yg)("p",null,"You need to press and hold down BOOT button on your XIAO ESP32C3 board to enter the 'bootloader' mode while pluging in to the type C USB cable to your pc."),(0,o.yg)("h4",{id:"check-port"},"Check port"),(0,o.yg)("p",null,"Find out all serial devices on your pc."),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},"Linux ")),(0,o.yg)("p",null,"On Linux, you can use the ",(0,o.yg)("em",{parentName:"p"},"dmesg")," command to view connected devices:"),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-Linux"},"dmesg | grep tty\n")),(0,o.yg)("p",null,"Alternatively, you can list serial devices using ",(0,o.yg)("em",{parentName:"p"},"ls"),":"),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre"},"ls /dev/ttyS* /dev/ttyUSB*\n")),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},"Window")),(0,o.yg)("p",null,"On Windows, you can check serial ports through Device Manager. Look for the \u201cPorts (COM & LPT)\u201d section to see the available serial ports. You can also use the mode command in Command Prompt to list serial ports:"),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre"},"mode\n")),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},"macOS")),(0,o.yg)("p",null,"On macOS, you can list available serial ports using the ",(0,o.yg)("em",{parentName:"p"},"ls")," command:"),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre"},"ls /dev/cu*\n")),(0,o.yg)("p",null,"This will show all serial port devices."),(0,o.yg)("div",{align:"center"},(0,o.yg)("img",{width:600,src:"https://files.seeedstudio.com/wiki/esp32c3_circuitpython/1.png"})),(0,o.yg)("admonition",{type:"tip"},(0,o.yg)("p",{parentName:"admonition"},"If the port is busy, you can use the following command to find an dkill and processes using the port(On macOS):\nIdentify processes using the port:"),(0,o.yg)("pre",{parentName:"admonition"},(0,o.yg)("code",{parentName:"pre"},"lsof | grep port\n")),(0,o.yg)("p",{parentName:"admonition"},"This command lists open files and searches for any process using the specified port.\nFind the process ID(PID) from the output and kill the procee:"),(0,o.yg)("pre",{parentName:"admonition"},(0,o.yg)("code",{parentName:"pre"},"kill -9 <PID>\n")),(0,o.yg)("p",{parentName:"admonition"},"Replace ",(0,o.yg)("em",{parentName:"p"},"PID")," with the actual process ID found.")),(0,o.yg)("h4",{id:"erase-flash"},"Erase flash"),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-linux"},"esptool.py --chip esp32c3 --port /dev/cu.usbmodem11301 erase_flash\n")),(0,o.yg)("p",null,"Replace '/dev/cu.usbmodem11301' with the correct port name from your system(e.g. ",(0,o.yg)("inlineCode",{parentName:"p"},"COM3")," on Windows, ",(0,o.yg)("inlineCode",{parentName:"p"},"/dev/ttyUSB0")," on linux)."),(0,o.yg)("h4",{id:"write-flash"},"Write flash"),(0,o.yg)("p",null,"Flash the firmware onto XIAO ESP32C3:"),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-linux"},"esptool.py --chip esp32c3 --port /dev/cu.usbmodem11301 --baud 460800 write_flash -z 0x0 adafruit-circuitpython-seeed_xiao_esp32c3-en_GB-9.1.1.bin\n")),(0,o.yg)("p",null,"Again, replace '/dev/cu.usbmodem11301' with the correct port name, and 'adafruit-circuitpython-seeed_xiao_esp32c3-en_GB-9.1.1.bin' with the path to your blank firmware file.\nHard resetting via RTS pin..."),(0,o.yg)("h3",{id:"method-2-web-serial-esptool"},"Method 2: Web Serial esptool"),(0,o.yg)("p",null,"The WebSerial ESPTool was designed to be a web-capable option for programming Espressif ESP family microcontroller boards that have a serial based ROM bootloader. It allows you to erase the contents of the microcontroller and program up to 4 files at different offsets. Please refer to ",(0,o.yg)("a",{parentName:"p",href:"https://learn.adafruit.com/circuitpython-with-esp32-quick-start/web-serial-esptool"},"Web Serial ESPtool"),"."),(0,o.yg)("p",null,"Then can start to compile script using your prefer tool to XIAO ESP32C3!"),(0,o.yg)("h2",{id:"recommended-editors-for-circuitpython"},"Recommended Editors for CircuitPython"),(0,o.yg)("p",null,"Generally, When CircuitPython finishes installing, or you plug a CircuitPython board into your computer with CircuitPython already installed, the board shows up on your computer as a USB drive called CIRCUITPY.\nHowever, ESP32 or ESP32-C3 microcontrollers that do not support native USB cannot present a CIRCUITPY drive.\nOn these boards, there are alternative ways to transfer and edit files. You can use the ",(0,o.yg)("a",{parentName:"p",href:"https://thonny.org/"},"Thonny"),", which uses hidden commands sent to the REPL to read and write files. Or you can use the ",(0,o.yg)("a",{parentName:"p",href:"https://code.circuitpython.org/"},"CircuitPython web workflow"),", introduced in Circuitpython 8. The web workflow provides browser-based WiFi access to the CircuitPython filesystem, please refer to ",(0,o.yg)("a",{parentName:"p",href:"https://learn.adafruit.com/getting-started-with-web-workflow-using-the-code-editor/overview."},"getting started with web workflow using the code editor")),(0,o.yg)("h3",{id:"1-thonny"},"1. Thonny"),(0,o.yg)("p",null,"Install and open thonny, then configure Thonny following the instruction:"),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre"},"pip install thonny\n#open thonny after installation\nthonny\n")),(0,o.yg)("p",null,'Go to Run--\x3eConfigure Interpreter, and ensure that the Interpreter tab in the Thonny options looks as shown below, select "CircuitPython (generic)" and port:'),(0,o.yg)("div",{align:"center"},(0,o.yg)("img",{width:600,src:"https://files.seeedstudio.com/wiki/esp32c3_circuitpython/2.png"})),(0,o.yg)("p",null,'click "OK" on the dialog and you should be presented with the Micropython shell at the bottom of the thonny window as shown in the figure below.\nThen you can use ',(0,o.yg)("strong",{parentName:"p"},"R"),"ead-",(0,o.yg)("strong",{parentName:"p"},"E"),"valuate-",(0,o.yg)("strong",{parentName:"p"},"P"),"rint-",(0,o.yg)("strong",{parentName:"p"},"L"),"oop, or REPL for serial connection, which allows you to enter individual lines of code and have them run immediately in the shell. It's really handy if you're running into trouble with a particular program and can't figure out why. It's interactive so it's great for testing new ideas. Please refer to ",(0,o.yg)("a",{parentName:"p",href:"https://learn.adafruit.com/welcome-to-circuitpython/the-repl"},"REPL")," for more information."),(0,o.yg)("p",null,"Interacting with the REPL with ",(0,o.yg)("em",{parentName:"p"},"help()"),", which tell you where to start exploring the REPL. To run code in REPL, type it in next to the REPL prompt.\nTo list built-in modules type ",(0,o.yg)("em",{parentName:"p"},'help("modules")'),' and would show up a list of all the core modules built into CircuitPython, including "',(0,o.yg)("em",{parentName:"p"},"board"),'".'),(0,o.yg)("div",{align:"center"},(0,o.yg)("img",{width:600,src:"https://files.seeedstudio.com/wiki/esp32c3_circuitpython/3.png"})),(0,o.yg)("p",null,"Then can type ",(0,o.yg)("em",{parentName:"p"},'"import board"')," into the REPL and press enter. Next, type ",(0,o.yg)("em",{parentName:"p"},'"dir(board)"')," into the REPL and get a list of all of the pins on your board."),(0,o.yg)("div",{align:"center"},(0,o.yg)("img",{width:600,src:"https://files.seeedstudio.com/wiki/esp32c3_circuitpython/4.png"})),(0,o.yg)("h3",{id:"2-circuitpython-web-workflow"},"2. CircuitPython Web Workflow"),(0,o.yg)("div",{align:"center"},(0,o.yg)("img",{width:600,src:"https://files.seeedstudio.com/wiki/esp32c3_circuitpython/5.png"})),(0,o.yg)("p",null,(0,o.yg)("a",{parentName:"p",href:"https://code.circuitpython.org/"},"The CircuitPython Code Editor")," provides a fuller and more enriching experience when editing files on your ESP32-based device running the latest version of CircuitPython.\nThe editor allows you to edit files using web Bluetooth, USB, and Web Workflow over WiFi."),(0,o.yg)("h2",{id:"pinoutport-information"},"Pinout/Port Information"),(0,o.yg)("div",{align:"center"},(0,o.yg)("img",{width:800,src:"https://files.seeedstudio.com/wiki/esp32c3_circuitpython/6.png"})),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},"More information please refer to ",(0,o.yg)("a",{parentName:"li",href:"https://wiki.seeedstudio.com/XIAO_ESP32C3_Getting_Started/#hardware-overview"},"hardware overview")),(0,o.yg)("li",{parentName:"ul"},(0,o.yg)("a",{parentName:"li",href:"https://files.seeedstudio.com/wiki/XIAO_WiFi/Resources/Seeeduino-XIAO-ESP32C3-SCH.pdf"},"Seeed Studio XIAO ESP32C3 Schematic"))),(0,o.yg)("h2",{id:"getting-started-with-circuitpython-on-the-xiao-esp32c3"},"Getting Started with CircuitPython on the XIAO ESP32C3"),(0,o.yg)("h3",{id:"network-wlan"},"Network-WLAN"),(0,o.yg)("p",null,"For boards without native USB (like ESP32-C3 or ESP32) you will need to use the REPL to connect to the Wi-Fi. Wi-Fi function is enabled when a file named ",(0,o.yg)("em",{parentName:"p"},"settings.toml")," is added to the root folder of the CircuitPython file system.\nCreate ",(0,o.yg)("em",{parentName:"p"},"settings.toml")," file via REPL:"),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-r"},"f = open('settings.toml', 'w')\nf.write('CIRCUITPY_WIFI_SSID = \"wifissid\"\\n')\nf.write('CIRCUITPY_WIFI_PASSWORD = \"wifipassword\"\\n')\nf.write('CIRCUITPY_WEB_API_PASSWORD = \"webpassword\"\\n')\nf.close()\n")),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},"Replace with the name of your local wifi network ",(0,o.yg)("em",{parentName:"li"},"wifissid")),(0,o.yg)("li",{parentName:"ul"},"Replace with your local wifi passwordwifi ",(0,o.yg)("em",{parentName:"li"},"password")),(0,o.yg)("li",{parentName:"ul"},"The other password, , is used when you access the board via a web browser. Set this to whatever you want ",(0,o.yg)("em",{parentName:"li"},"webpassword"))),(0,o.yg)("p",null,"Once connected, you can press the ",(0,o.yg)("strong",{parentName:"p"},"Reset")," button to kick the firmware, then hit return a few times to get to the REPL prompt. Then reconnect device to Thonny, the IP address of your XIAO ESP32C3 shows up."),(0,o.yg)("admonition",{type:"note"},(0,o.yg)("p",{parentName:"admonition"},"Don't forget, ESP32 does not support 5 GHz networks, so use your 2.4 GHz SSID if you have two.")),(0,o.yg)("div",{align:"center"},(0,o.yg)("img",{width:600,src:"https://files.seeedstudio.com/wiki/esp32c3_circuitpython/7.png"})),(0,o.yg)("h3",{id:"delay-and-timing"},"Delay and timing"),(0,o.yg)("p",null,"The ",(0,o.yg)("em",{parentName:"p"},"time")," module:"),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-python"},"import time\ntime.sleep(1)           # sleep for 1 second\ntime.sleep_ms(500)      # sleep for 500 milliseconds\ntime.sleep_us(10)       # sleep for 10 microseconds\nstart = time.ticks_ms() # get millisecond counter\ndelta = time.ticks_diff(time.ticks_ms(), start) # compute time difference\n")),(0,o.yg)("h3",{id:"pins-and-gpio"},"Pins and GPIO"),(0,o.yg)("p",null,'Can use module "',(0,o.yg)("em",{parentName:"p"},"board"),'" and "',(0,o.yg)("em",{parentName:"p"},"microcontroller"),'" to controller the gpio with the following code and connect a LED to D5:'),(0,o.yg)("div",{align:"center"},(0,o.yg)("img",{width:600,src:"https://files.seeedstudio.com/wiki/esp32c3_circuitpython/14.png"})),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-python"},"# using board module\nimport board\nimport digitalio\nimport time\n\nled = digitalio.DigitalInOut(board.D5)\nled.direction = digitalio.Direction.OUTPUT\n\nwhile True:\n    led.value = True  # turn on LED\n    time.sleep(1)\n    led.value = False  # turn off LED\n    time.sleep(1)\n    \n# using microcontroller module\nimport microcontroller\nimport digitalio\nimport time\n\nled = digitalio.DigitalInOut(microcontroller.pin.GPIO7)\nled.direction = digitalio.Direction.OUTPUT\n\nwhile True:\n    led.value = True  # turn on LED\n    time.sleep(1)\n    led.value = False  # turn off LED\n    time.sleep(1)\n")),(0,o.yg)("div",{align:"center"},(0,o.yg)("img",{width:600,src:"https://files.seeedstudio.com/wiki/esp32c3_circuitpython/8.png"})),(0,o.yg)("h3",{id:"uartserial-bus"},"UART(serial bus)"),(0,o.yg)("p",null,"Using ",(0,o.yg)("em",{parentName:"p"},"busio")," module:"),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-python"},'import board\nimport busio\n\n# initialise UART\nuart = busio.UART(board.TX, board.RX, baudrate=9600)\n\n# send data\nuart.write(b"Hello UART\\n")\n\n# receive data\nwhile True:\n    if uart.in_waiting > 0:\n        data = uart.read()\n        print("Received:", data)\n\n')),(0,o.yg)("p",null,"The XIAO ESP32C3 have one hardware UART. the pins listed below:"),(0,o.yg)("table",null,(0,o.yg)("thead",{parentName:"table"},(0,o.yg)("tr",{parentName:"thead"},(0,o.yg)("th",{parentName:"tr",align:null},"UART"),(0,o.yg)("th",{parentName:"tr",align:null},"Pin"))),(0,o.yg)("tbody",{parentName:"table"},(0,o.yg)("tr",{parentName:"tbody"},(0,o.yg)("td",{parentName:"tr",align:null},"TX"),(0,o.yg)("td",{parentName:"tr",align:null},"D6")),(0,o.yg)("tr",{parentName:"tbody"},(0,o.yg)("td",{parentName:"tr",align:null},"RX"),(0,o.yg)("td",{parentName:"tr",align:null},"D7")))),(0,o.yg)("h3",{id:"pwmpulse-width-modulation"},"PWM(pulse width modulation)"),(0,o.yg)("p",null,"Using ",(0,o.yg)("em",{parentName:"p"},"pwmio")," module:"),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-python"},"import board\nimport pwmio\nfrom digitalio import DigitalInOut\nimport time\n\n# initialise PWM\npwm = pwmio.PWMOut(board.D5, frequency=5000, duty_cycle=0)\n\n# a dimming led\nwhile True:\n    for duty_cycle in range(0, 65535, 1000):\n        pwm.duty_cycle = duty_cycle\n        time.sleep(0.1)\n\n")),(0,o.yg)("h3",{id:"adcanalog-to-digital-conversion"},"ADC(analog to digital conversion)"),(0,o.yg)("p",null,"Using the ",(0,o.yg)("em",{parentName:"p"},"analogio")," module:"),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-python"},'import board\nimport analogio\nimport time\n\n# initialise ADC\nadc = analogio.AnalogIn(board.A0)\n\nwhile True:\n    value = adc.value\n    print("ADC Value:", value)\n    time.sleep(1)\n\n')),(0,o.yg)("h3",{id:"spi"},"SPI"),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-python"},'import board\nimport busio\nimport digitalio\n\n# initialize SPI\nspi = busio.SPI(board.SCK, board.MOSI, board.MISO)\n\n# choose a chip\ncs = digitalio.DigitalInOut(board.D5)\ncs.direction = digitalio.Direction.OUTPUT\ncs.value = True \n\n# send and receive data\ndata_out = bytearray([0x01, 0x02, 0x03])\ndata_in = bytearray(3)\nspi.write_readinto(data_out, data_in)\nprint("Received:", data_in)\n')),(0,o.yg)("table",null,(0,o.yg)("thead",{parentName:"table"},(0,o.yg)("tr",{parentName:"thead"},(0,o.yg)("th",{parentName:"tr",align:null},"SPI"),(0,o.yg)("th",{parentName:"tr",align:null},"Pin"))),(0,o.yg)("tbody",{parentName:"table"},(0,o.yg)("tr",{parentName:"tbody"},(0,o.yg)("td",{parentName:"tr",align:null},"SCK"),(0,o.yg)("td",{parentName:"tr",align:null},"D8")),(0,o.yg)("tr",{parentName:"tbody"},(0,o.yg)("td",{parentName:"tr",align:null},"MOSI"),(0,o.yg)("td",{parentName:"tr",align:null},"D10")),(0,o.yg)("tr",{parentName:"tbody"},(0,o.yg)("td",{parentName:"tr",align:null},"MISO"),(0,o.yg)("td",{parentName:"tr",align:null},"D9")))),(0,o.yg)("h3",{id:"i2c"},"I2C"),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-python"},"import board\nimport busio\n\n# Initialize I2C\ni2c = busio.I2C(board.SCL, board.SDA, frequency=400000)\n")),(0,o.yg)("h3",{id:"expension-board-base-for-xiao"},"Expension Board Base for XIAO"),(0,o.yg)("p",null,(0,o.yg)("em",{parentName:"p"},"Prerequisites"),":"),(0,o.yg)("table",{align:"center"},(0,o.yg)("tbody",null,(0,o.yg)("tr",null,(0,o.yg)("th",null,"XIAO ESP32C3",(0,o.yg)("br",null)," with soldered header"),(0,o.yg)("th",null,"Expension Board Base for XIAO"),(0,o.yg)("th",null,"Grove Light sensor")),(0,o.yg)("tr",null,(0,o.yg)("td",null,(0,o.yg)("div",{align:"center"},(0,o.yg)("img",{src:"https://files.seeedstudio.com/wiki/XIAO_WiFi/board-pic.png",style:{width:100,height:"auto"}}))),(0,o.yg)("td",null,(0,o.yg)("div",{align:"center"},(0,o.yg)("img",{src:"https://files.seeedstudio.com/wiki/esp32c3_circuitpython/15.png",style:{width:210,height:"auto"}}))),(0,o.yg)("td",null,(0,o.yg)("div",{align:"center"},(0,o.yg)("img",{src:"https://files.seeedstudio.com/wiki/esp32c3_circuitpython/16.png",style:{width:210,height:"auto"}})))),(0,o.yg)("tr",null,(0,o.yg)("td",{align:"center"},(0,o.yg)("div",{class:"get_one_now_container",style:{textAlign:"center"}},(0,o.yg)("a",{class:"get_one_now_item",href:"https://www.seeedstudio.com/Seeed-XIAO-ESP32C3-p-5431.html"},(0,o.yg)("strong",null,(0,o.yg)("span",null,(0,o.yg)("font",{color:"FFFFFF",size:"4"}," Get One Now \ud83d\uddb1\ufe0f")))))),(0,o.yg)("td",{align:"center"},(0,o.yg)("div",{class:"get_one_now_container",style:{textAlign:"center"}},(0,o.yg)("a",{class:"get_one_now_item",href:"https://www.seeedstudio.com/Seeeduino-XIAO-Expansion-board-p-4746.html"},(0,o.yg)("strong",null,(0,o.yg)("span",null,(0,o.yg)("font",{color:"FFFFFF",size:"4"}," Get One Now \ud83d\uddb1\ufe0f")))))),(0,o.yg)("td",{align:"center"},(0,o.yg)("div",{class:"get_one_now_container",style:{textAlign:"center"}},(0,o.yg)("a",{class:"get_one_now_item",href:"https://www.seeedstudio.com/Grove-Light-Sensor-v1-2-LS06-S-phototransistor.html"},(0,o.yg)("strong",null,(0,o.yg)("span",null,(0,o.yg)("font",{color:"FFFFFF",size:"4"}," Get One Now \ud83d\uddb1\ufe0f"))))))))),(0,o.yg)("h4",{id:"read-the-light-sensor-data"},"Read the light sensor data"),(0,o.yg)("div",{align:"center"},(0,o.yg)("img",{width:300,src:"https://files.seeedstudio.com/wiki/esp32c3_circuitpython/9.png"})),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-python"},'import time\nimport board\nimport analogio\n\n# Initialize the analog input on A0\nanalog_in = analogio.AnalogIn(board.A0)\n\ndef get_voltage(pin):\n    return (pin.value * 3.3) / 65536\n\nwhile True:\n    # Read the raw analog value\n    raw_value = analog_in.value\n    # Convert the raw value to voltage\n    voltage = get_voltage(analog_in)\n    \n    # Print the raw value and voltage to the serial console\n    print("[Light] Raw value: {:5d} Voltage: {:.2f}V".format(raw_value, voltage))\n    \n    # Delay for a short period of time before reading again\n    time.sleep(1)\n')),(0,o.yg)("div",{align:"center"},(0,o.yg)("img",{width:600,src:"https://files.seeedstudio.com/wiki/esp32c3_circuitpython/10.png"})),(0,o.yg)("h4",{id:"light-up-oled-screen"},"Light up OLED screen"),(0,o.yg)("p",null,(0,o.yg)("strong",{parentName:"p"},"Download and Extract the Library Bundle"),":"),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},"Go to the ",(0,o.yg)("a",{parentName:"li",href:"https://circuitpython.org/libraries"},"library")," and download the library bundle for CircuitPython. To install, download the appropriate bundle for your version of CircuitPython.")),(0,o.yg)("p",null,(0,o.yg)("strong",{parentName:"p"},"Copy Libraries to CIRCUITPY"),":"),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},"Extract the library bundle ZIP file. You will find a folder named lib with various ",(0,o.yg)("em",{parentName:"li"},".mpy")," files."),(0,o.yg)("li",{parentName:"ul"},"Open Thonny--\x3eView--\x3eFiles, and then copy the necessary .mpy files and the lib folder to CircuitPython device/lib.\nYou'll need to manually install the necessary libraries from the bundle:",(0,o.yg)("ul",{parentName:"li"},(0,o.yg)("li",{parentName:"ul"},"adafruit_ssd1306"),(0,o.yg)("li",{parentName:"ul"},"adafruit_bus_device"),(0,o.yg)("li",{parentName:"ul"},"adafruit_register"),(0,o.yg)("li",{parentName:"ul"},"adafruit_framebuf.mpy")))),(0,o.yg)("div",{align:"center"},(0,o.yg)("img",{width:300,src:"https://files.seeedstudio.com/wiki/esp32c3_circuitpython/11.png"})),(0,o.yg)("div",{align:"center"},(0,o.yg)("img",{width:600,src:"https://files.seeedstudio.com/wiki/esp32c3_circuitpython/12.png"})),(0,o.yg)("p",null,(0,o.yg)("strong",{parentName:"p"},"Create Your CircuitPython Code"),":"),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},"Create a code.py file (or main.py) . This file should contain your CircuitPython code.")),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-python"},"import board\nimport busio\nimport displayio\nimport adafruit_ssd1306\nimport terminalio\n\n# Initialize I2C\ni2c = busio.I2C(board.SCL, board.SDA)\n\n# Define the display parameters\noled_width = 128\noled_height = 64\n\n# Initialize the OLED display\noled = adafruit_ssd1306.SSD1306_I2C(oled_width, oled_height, i2c)\n\n# Fill the display with the color 0\noled.fill(0)\n# Set the first pixel white\noled.pixel(0, 0, 1)\noled.show()\n")),(0,o.yg)("div",{align:"center"},(0,o.yg)("img",{width:500,src:"https://files.seeedstudio.com/wiki/esp32c3_circuitpython/13.png"})),(0,o.yg)("h2",{id:"uninstalling-circuitpython"},'"Uninstalling" CircuitPython'),(0,o.yg)("p",null,'A lot of our boards can be used with multiple programming languages. For example, the Circuit Playground Express can be used with MakeCode, Code.org CS Discoveries, CircuitPython and Arduino. You may want to go back to Arduino or MakeCode. There is nothing to uninstall. CircuitPython is "just another program" that is loaded into your board. So you can simply load another program(Arduino or MakeCode) and it will overwrite CircuitPython.'),(0,o.yg)("h3",{id:"backup-your-code"},"Backup your Code"),(0,o.yg)("p",null,"before replacing CircuitPython, don't forget to make a backup of the code you have on the CIRCUITPY drive. That means your ",(0,o.yg)("em",{parentName:"p"},"code.py")," and any other files, the lib folder etc. You may lose these files when you remove CircuitPython, so backups are key! Just drag the files to a folder on your laptop or desktop computer like you would with any USB drive."),(0,o.yg)("h3",{id:"moving-to-arduino"},"Moving to Arduino"),(0,o.yg)("p",null,"If you want to use Arduino instead, you just use the Arduino IDE to load an Arduino program. Here's an example of uploading a simple \"Blink\" Arduino program, but you don't have to use this particular program.\nStart by plugging in your board, and double-clicking reset until you get the onboard LED(s)."),(0,o.yg)("p",null,"Thank you for reading this article\uff01 Feel free to share your thoughts in the comments."),(0,o.yg)("h2",{id:"resources"},"Resources"),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},(0,o.yg)("a",{parentName:"li",href:"https://circuitpython.org/board/seeed_xiao_esp32c3/"},"The firmware binary file")," for XIAO ESP32C3 with CircuitPython"),(0,o.yg)("li",{parentName:"ul"},(0,o.yg)("a",{parentName:"li",href:"https://circuitpython.org/libraries"},"The library bundle for CircuitPython"))),(0,o.yg)("h2",{id:"tech-support--product-discussion"},"Tech Support & Product Discussion"),(0,o.yg)("p",null,"Thank you for choosing our products! We are here to provide you with different support to ensure that your experience with our products is as smooth as possible. We offer several communication channels to cater to different preferences and needs."),(0,o.yg)("div",{class:"button_tech_support_container"},(0,o.yg)("a",{href:"https://forum.seeedstudio.com/",class:"button_forum"}),(0,o.yg)("a",{href:"https://www.seeedstudio.com/contacts",class:"button_email"})),(0,o.yg)("div",{class:"button_tech_support_container"},(0,o.yg)("a",{href:"https://discord.gg/eWkprNDMU7",class:"button_discord"}),(0,o.yg)("a",{href:"https://github.com/Seeed-Studio/wiki-documents/discussions/69",class:"button_discussion"})))}c.isMDXComponent=!0}}]);
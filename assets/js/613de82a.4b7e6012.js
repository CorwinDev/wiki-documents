"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[53193],{15680:(e,t,o)=>{o.d(t,{xA:()=>p,yg:()=>g});var r=o(96540);function n(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function i(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,r)}return o}function s(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?i(Object(o),!0).forEach((function(t){n(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):i(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function a(e,t){if(null==e)return{};var o,r,n=function(e,t){if(null==e)return{};var o,r,n={},i=Object.keys(e);for(r=0;r<i.length;r++)o=i[r],t.indexOf(o)>=0||(n[o]=e[o]);return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)o=i[r],t.indexOf(o)>=0||Object.prototype.propertyIsEnumerable.call(e,o)&&(n[o]=e[o])}return n}var l=r.createContext({}),d=function(e){var t=r.useContext(l),o=t;return e&&(o="function"==typeof e?e(t):s(s({},t),e)),o},p=function(e){var t=d(e.components);return r.createElement(l.Provider,{value:t},e.children)},c="mdxType",u={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},h=r.forwardRef((function(e,t){var o=e.components,n=e.mdxType,i=e.originalType,l=e.parentName,p=a(e,["components","mdxType","originalType","parentName"]),c=d(o),h=n,g=c["".concat(l,".").concat(h)]||c[h]||u[h]||i;return o?r.createElement(g,s(s({ref:t},p),{},{components:o})):r.createElement(g,s({ref:t},p))}));function g(e,t){var o=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var i=o.length,s=new Array(i);s[0]=h;var a={};for(var l in t)hasOwnProperty.call(t,l)&&(a[l]=t[l]);a.originalType=e,a[c]="string"==typeof e?e:n,s[1]=a;for(var d=2;d<i;d++)s[d]=o[d];return r.createElement.apply(null,s)}return r.createElement.apply(null,o)}h.displayName="MDXCreateElement"},20882:(e,t,o)=>{o.r(t),o.d(t,{assets:()=>l,contentTitle:()=>s,default:()=>u,frontMatter:()=>i,metadata:()=>a,toc:()=>d});var r=o(58168),n=(o(96540),o(15680));const i={description:"This wiki demonstrates how to use pose estimation with yolov8 to control your lights.",title:"Pose-Based Light Control with Node-Red and Raspberry Pi with AIkit",keywords:["Edge","reComputer r1000","Object detecton","AI kit"],image:"https://files.seeedstudio.com/wiki/wiki-platform/S-tempor.png",slug:"/pose_based_light_control_with_nodered_and_rpi_with_aikit",last_update:{date:"07/26/2024",author:"Jiahao"},no_comments:!1},s="Pose-Based Light Control with Node-Red and Raspberry Pi with AIkit",a={unversionedId:"Edge/Raspberry_Pi_Devices/reComputer_R1000/Applications/Computer-Vision/pose_based_light_control_with_nodered_and_rpi_with_aikit",id:"Edge/Raspberry_Pi_Devices/reComputer_R1000/Applications/Computer-Vision/pose_based_light_control_with_nodered_and_rpi_with_aikit",title:"Pose-Based Light Control with Node-Red and Raspberry Pi with AIkit",description:"This wiki demonstrates how to use pose estimation with yolov8 to control your lights.",source:"@site/docs/Edge/Raspberry_Pi_Devices/reComputer_R1000/Applications/Computer-Vision/pose_based_light_control_with_nodered_and_rpi_with_aikit.md",sourceDirName:"Edge/Raspberry_Pi_Devices/reComputer_R1000/Applications/Computer-Vision",slug:"/pose_based_light_control_with_nodered_and_rpi_with_aikit",permalink:"/pose_based_light_control_with_nodered_and_rpi_with_aikit",draft:!1,editUrl:"https://github.com/Seeed-Studio/wiki-documents/blob/docusaurus-version/docs/Edge/Raspberry_Pi_Devices/reComputer_R1000/Applications/Computer-Vision/pose_based_light_control_with_nodered_and_rpi_with_aikit.md",tags:[],version:"current",lastUpdatedBy:"Jiahao",lastUpdatedAt:1721952e3,formattedLastUpdatedAt:"Jul 26, 2024",frontMatter:{description:"This wiki demonstrates how to use pose estimation with yolov8 to control your lights.",title:"Pose-Based Light Control with Node-Red and Raspberry Pi with AIkit",keywords:["Edge","reComputer r1000","Object detecton","AI kit"],image:"https://files.seeedstudio.com/wiki/wiki-platform/S-tempor.png",slug:"/pose_based_light_control_with_nodered_and_rpi_with_aikit",last_update:{date:"07/26/2024",author:"Jiahao"},no_comments:!1},sidebar:"ProductSidebar",previous:{title:"Convert Model to Edge TPU TFlite Format for Google Coral",permalink:"/convert_model_to_edge_tpu_tflite_format_for_google_coral"},next:{title:"NVIDIA\xae Jetson\u2122 Powered Edge AI Devices Guide",permalink:"/NVIDIA_Jetson"}},l={},d=[{value:"Introduction",id:"introduction",level:2},{value:"Prepare Hardware",id:"prepare-hardware",level:2},{value:"Run this project",id:"run-this-project",level:2},{value:"On reComputer R1000",id:"on-recomputer-r1000",level:3},{value:"Step 1: Install AI kit",id:"step-1-install-ai-kit",level:4},{value:"Step 2: Install project",id:"step-2-install-project",level:4},{value:"Step 3: Run pose estimation",id:"step-3-run-pose-estimation",level:4},{value:"Step 4: Install Node-RED",id:"step-4-install-node-red",level:4},{value:"Step 5: Import flows.json",id:"step-5-import-flowsjson",level:4},{value:"Step 6: Download the required controls",id:"step-6-download-the-required-controls",level:4},{value:"Step 7: Deploy the project",id:"step-7-deploy-the-project",level:4},{value:"On reTerminal DM",id:"on-reterminal-dm",level:3},{value:"Step 1: Install the gstreamer on reTerminal DM",id:"step-1-install-the-gstreamer-on-reterminal-dm",level:4},{value:"Step 2: Install the repository",id:"step-2-install-the-repository",level:4},{value:"Step 3: Run video reciver",id:"step-3-run-video-reciver",level:4},{value:"Result",id:"result",level:2},{value:"Tech Support &amp; Product Discussion",id:"tech-support--product-discussion",level:2}],p={toc:d},c="wrapper";function u(e){let{components:t,...o}=e;return(0,n.yg)(c,(0,r.A)({},p,o,{components:t,mdxType:"MDXLayout"}),(0,n.yg)("h1",{id:"pose-based-light-control-with-node-red-and-raspberry-pi-with-aikit"},"Pose-Based Light Control with Node-Red and Raspberry Pi with AIkit"),(0,n.yg)("h2",{id:"introduction"},"Introduction"),(0,n.yg)("p",null,"This wiki will guide you on how to run YOLOv8 using an AI kit, use YOLOv8 to monitor your posture, and ultimately control your lights based on your posture. In this project, a USB camera captures your pose, and yolov8n run on ",(0,n.yg)("a",{parentName:"p",href:"https://www.seeedstudio.com/Raspberry-Pi-AI-Kit-p-5900.html"},"AI kit")," with ",(0,n.yg)("a",{parentName:"p",href:"https://www.seeedstudio.com/reComputer-R1000-Series-Optional-Accessories.html"},"reComputer R1000")," to detect your pose. The processed video, displaying the detected pose, is then streamed in real-time to ",(0,n.yg)("a",{parentName:"p",href:"https://www.seeedstudio.com/reTerminal-DM-CM4104032-p-5898.html"},"reTerminal DM")," using ",(0,n.yg)("a",{parentName:"p",href:"https://gstreamer.freedesktop.org/"},"gstreamer"),". Meanwhile, the joint coordinates are sent using ",(0,n.yg)("a",{parentName:"p",href:"https://mqtt.org/"},"mqtt")," to ",(0,n.yg)("a",{parentName:"p",href:"https://nodered.org/"},"Node-RED")," which deploy on the reComputer R1000. At last, the Node-RED flow controls the smart lights based on the joint coordinates."),(0,n.yg)("p",{style:{textAlign:"center"}},(0,n.yg)("img",{src:"https://files.seeedstudio.com/wiki/reComputer-R1000/pose_control_light/pose_control.jpeg",alt:"pir",width:1e3,height:"auto"})),(0,n.yg)("h2",{id:"prepare-hardware"},"Prepare Hardware"),(0,n.yg)("div",{class:"table-center"},(0,n.yg)("table",{align:"center"},(0,n.yg)("tr",null,(0,n.yg)("th",null,"reComputer r1000"),(0,n.yg)("th",null,"reTerminal DM"),(0,n.yg)("th",null,"Raspberry Pi AI Kit")),(0,n.yg)("tr",null,(0,n.yg)("td",null,(0,n.yg)("div",{style:{textAlign:"center"}},(0,n.yg)("img",{src:"https://media-cdn.seeedstudio.com/media/catalog/product/cache/bb49d3ec4ee05b6f018e93f896b8a25d/1/-/1-113991274-recomputer-r1025-10-0.jpg",style:{width:600,height:"auto"}}))),(0,n.yg)("td",null,(0,n.yg)("div",{style:{textAlign:"center"}},(0,n.yg)("img",{src:"https://media-cdn.seeedstudio.com/media/catalog/product/cache/bb49d3ec4ee05b6f018e93f896b8a25d/s/k/sku114070262.jpg",style:{width:600,height:"auto"}}))),(0,n.yg)("td",null,(0,n.yg)("div",{style:{textAlign:"center"}},(0,n.yg)("img",{src:"https://media-cdn.seeedstudio.com/media/catalog/product/cache/bb49d3ec4ee05b6f018e93f896b8a25d/1/-/1-113060086-raspberry-pi-ai-kit-45font.jpg",style:{width:600,height:"auto"}})))),(0,n.yg)("tr",null,(0,n.yg)("td",null,(0,n.yg)("div",{class:"get_one_now_container",style:{textAlign:"center"}},(0,n.yg)("a",{class:"get_one_now_item",href:"https://www.seeedstudio.com/reComputer-R1000-Series-Optional-Accessories.html"},(0,n.yg)("strong",null,(0,n.yg)("span",null,(0,n.yg)("font",{color:"FFFFFF",size:"4"}," Get One Now \ud83d\uddb1\ufe0f")))))),(0,n.yg)("td",null,(0,n.yg)("div",{class:"get_one_now_container",style:{textAlign:"center"}},(0,n.yg)("a",{class:"get_one_now_item",href:"https://www.seeedstudio.com/reTerminal-DM-CM4104032-p-5898.html"},(0,n.yg)("strong",null,(0,n.yg)("span",null,(0,n.yg)("font",{color:"FFFFFF",size:"4"}," Get One Now \ud83d\uddb1\ufe0f")))))),(0,n.yg)("td",null,(0,n.yg)("div",{class:"get_one_now_container",style:{textAlign:"center"}},(0,n.yg)("a",{class:"get_one_now_item",href:"https://www.seeedstudio.com/Raspberry-Pi-AI-Kit-p-5900.html"},(0,n.yg)("strong",null,(0,n.yg)("span",null,(0,n.yg)("font",{color:"FFFFFF",size:"4"}," Get One Now \ud83d\uddb1\ufe0f"))))))))),(0,n.yg)("h2",{id:"run-this-project"},"Run this project"),(0,n.yg)("h3",{id:"on-recomputer-r1000"},"On reComputer R1000"),(0,n.yg)("h4",{id:"step-1-install-ai-kit"},"Step 1: Install AI kit"),(0,n.yg)("p",null,"Pleses refer to ",(0,n.yg)("a",{parentName:"p",href:"https://wiki.seeedstudio.com/yolov8_object_detection_on_recomputer_r1000_with_hailo_8l/"},"this wiki")," and make sure you install the AI kit to your reComputer R1000."),(0,n.yg)("h4",{id:"step-2-install-project"},"Step 2: Install project"),(0,n.yg)("p",null,"Download the project with the command below:"),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre"},"git clone https://github.com/LJ-Hao/Pose-Based_Light_Control_with_Node-Red_and_Raspberry_Pi_with_AIkit.git && cd Pose-Based_Light_Control_with_Node-Red_and_Raspberry_Pi_with_AIkit\n")),(0,n.yg)("h4",{id:"step-3-run-pose-estimation"},"Step 3: Run pose estimation"),(0,n.yg)("p",null,"Edit the ",(0,n.yg)("inlineCode",{parentName:"p"},"pose_estimation.py")," file and change the ",(0,n.yg)("inlineCode",{parentName:"p"},"mqtt_server")," to your reTerminal DM's IP address. And change the ",(0,n.yg)("inlineCode",{parentName:"p"},"Gstreamer pipeline")," to your reTerminal DM's IP address. And then run the command below to start the pose estimation."),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre"},"bash run.sh\n")),(0,n.yg)("h4",{id:"step-4-install-node-red"},"Step 4: Install Node-RED"),(0,n.yg)("p",null,"Install Node-RED. You can download Node-RED with just one line of command:"),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre"},"bash <(curl -sL https://raw.githubusercontent.com/node-red/linux-installers/master/deb/update-nodejs-and-nodered)\n")),(0,n.yg)("h4",{id:"step-5-import-flowsjson"},"Step 5: Import flows.json"),(0,n.yg)("p",null,"Import project files. Click ",(0,n.yg)("inlineCode",{parentName:"p"},"Settings => Import")," in the upper right corner, ",(0,n.yg)("inlineCode",{parentName:"p"},"click select a file")," to import in the new pop-up window, select ",(0,n.yg)("inlineCode",{parentName:"p"},"flows.jeson"),", and finally click ",(0,n.yg)("inlineCode",{parentName:"p"},"Import"),"."),(0,n.yg)("p",{style:{textAlign:"center"}},(0,n.yg)("img",{src:"https://files.seeedstudio.com/wiki/reComputer-R1000/pose_control_light/nodered_import.gif",alt:"pir",width:1e3,height:"auto"})),(0,n.yg)("h4",{id:"step-6-download-the-required-controls"},"Step 6: Download the required controls"),(0,n.yg)("p",null,"After importing the project file, the system may prompt that your node-red is missing some controls. You need to download the following controls:"),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre"},"@bartbutenaers/node-red-rtsp-to-mjpeg\n@chirpstack/node-red-contrib-chirpstack\n@flowfuse/node-red-dashboard\nnode-bacnet-contrib-extended\nnode-red-contrib-buffer-parser\nnode-red-contrib-image-output\nnode-red-contrib-image-tools\nnode-red-contrib-modbus\nnode-red-contrib-msg-speed\nnode-red-contrib-multipart-stream-encoder\nnode-red-contrib-onvif\nnode-red-contrib-play-audio\nnode-red-dashboard\nnode-red-node-base64\nnode-red-node-mysql\nnode-red-node-pi-gpio\nnode-red-node-ping\nnode-red-node-serialport\nnode-red-node-smooth\nnode-red-sensecap-paas\nnode-red-node-random\n")),(0,n.yg)("p",null,"Take ",(0,n.yg)("inlineCode",{parentName:"p"},"node-red-node-random")," as an example, click ",(0,n.yg)("inlineCode",{parentName:"p"},"Settings => Manage Palette")," in the upper right corner, select the ",(0,n.yg)("inlineCode",{parentName:"p"},"Install")," column in the new window, enter ",(0,n.yg)("inlineCode",{parentName:"p"},"node-red-node-random"),", and finally click ",(0,n.yg)("inlineCode",{parentName:"p"},"Install")," Button."),(0,n.yg)("p",{style:{textAlign:"center"}},(0,n.yg)("img",{src:"https://files.seeedstudio.com/wiki/reComputer-R1000/pose_control_light/nodered_dowload_patelle.gif",alt:"pir",width:1e3,height:"auto"})),(0,n.yg)("h4",{id:"step-7-deploy-the-project"},"Step 7: Deploy the project"),(0,n.yg)("p",null,"Click the deploy button in the upper right corner and the system will run normally."),(0,n.yg)("p",{style:{textAlign:"center"}},(0,n.yg)("img",{src:"https://files.seeedstudio.com/wiki/reComputer-R1000/pose_control_light/nodered_deploy.png",alt:"pir",width:1e3,height:"auto"})),(0,n.yg)("h3",{id:"on-reterminal-dm"},"On reTerminal DM"),(0,n.yg)("h4",{id:"step-1-install-the-gstreamer-on-reterminal-dm"},"Step 1: Install the gstreamer on reTerminal DM"),(0,n.yg)("p",null,"Download the gstreamer with the command below:"),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre"},"sudo apt-get install libgstreamer1.0-dev libgstreamer-plugins-base1.0-dev libgstreamer-plugins-bad1.0-dev gstreamer1.0-plugins-base gstreamer1.0-plugins-good gstreamer1.0-plugins-bad gstreamer1.0-plugins-ugly gstreamer1.0-libav gstreamer1.0-tools gstreamer1.0-x gstreamer1.0-alsa gstreamer1.0-gl gstreamer1.0-gtk3 gstreamer1.0-qt5 gstreamer1.0-pulseaudio\n")),(0,n.yg)("h4",{id:"step-2-install-the-repository"},"Step 2: Install the repository"),(0,n.yg)("p",null,"Download the repository with the command below:"),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre"},"git clone https://github.com/LJ-Hao/Pose-Based_Light_Control_with_Node-Red_and_Raspberry_Pi_with_AIkit.git && cd Pose-Based_Light_Control_with_Node-Red_and_Raspberry_Pi_with_AIkit\n")),(0,n.yg)("h4",{id:"step-3-run-video-reciver"},"Step 3: Run video reciver"),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre"},"python3 video_receiver.py\n")),(0,n.yg)("h2",{id:"result"},"Result"),(0,n.yg)("p",null,"We showed this demonstration in a youtube live broadcast which begin at ",(0,n.yg)("inlineCode",{parentName:"p"},"19:47"),". And you can see the light will turn on when the host clap her hands, then the light will turn off when the host wave her hand, enjoy this demo:"),(0,n.yg)("div",{align:"center"},(0,n.yg)("iframe",{width:"800",height:"400",src:"https://www.youtube.com/embed/v-S6_tH75NI",title:"Making Next Gadget: AI Boosted RPi for Real World Applications",frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",referrerpolicy:"strict-origin-when-cross-origin",allowfullscreen:!0})),(0,n.yg)("h2",{id:"tech-support--product-discussion"},"Tech Support & Product Discussion"),(0,n.yg)("p",null,"Thank you for choosing our products! We are here to provide you with different support to ensure that your experience with our products is as smooth as possible. We offer several communication channels to cater to different preferences and needs."),(0,n.yg)("div",{class:"button_tech_support_container"},(0,n.yg)("a",{href:"https://forum.seeedstudio.com/",class:"button_forum"}),(0,n.yg)("a",{href:"https://www.seeedstudio.com/contacts",class:"button_email"})),(0,n.yg)("div",{class:"button_tech_support_container"},(0,n.yg)("a",{href:"https://discord.gg/eWkprNDMU7",class:"button_discord"}),(0,n.yg)("a",{href:"https://github.com/Seeed-Studio/wiki-documents/discussions/69",class:"button_discussion"})))}u.isMDXComponent=!0}}]);
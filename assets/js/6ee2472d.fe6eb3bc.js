"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[48856],{15680:(e,t,o)=>{o.d(t,{xA:()=>u,yg:()=>m});var r=o(96540);function n(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function i(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,r)}return o}function a(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?i(Object(o),!0).forEach((function(t){n(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):i(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function s(e,t){if(null==e)return{};var o,r,n=function(e,t){if(null==e)return{};var o,r,n={},i=Object.keys(e);for(r=0;r<i.length;r++)o=i[r],t.indexOf(o)>=0||(n[o]=e[o]);return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)o=i[r],t.indexOf(o)>=0||Object.prototype.propertyIsEnumerable.call(e,o)&&(n[o]=e[o])}return n}var l=r.createContext({}),d=function(e){var t=r.useContext(l),o=t;return e&&(o="function"==typeof e?e(t):a(a({},t),e)),o},u=function(e){var t=d(e.components);return r.createElement(l.Provider,{value:t},e.children)},c="mdxType",p={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},g=r.forwardRef((function(e,t){var o=e.components,n=e.mdxType,i=e.originalType,l=e.parentName,u=s(e,["components","mdxType","originalType","parentName"]),c=d(o),g=n,m=c["".concat(l,".").concat(g)]||c[g]||p[g]||i;return o?r.createElement(m,a(a({ref:t},u),{},{components:o})):r.createElement(m,a({ref:t},u))}));function m(e,t){var o=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var i=o.length,a=new Array(i);a[0]=g;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s[c]="string"==typeof e?e:n,a[1]=s;for(var d=2;d<i;d++)a[d]=o[d];return r.createElement.apply(null,a)}return r.createElement.apply(null,o)}g.displayName="MDXCreateElement"},69610:(e,t,o)=>{o.r(t),o.d(t,{assets:()=>l,contentTitle:()=>a,default:()=>p,frontMatter:()=>i,metadata:()=>s,toc:()=>d});var r=o(9668),n=(o(96540),o(15680));const i={description:"earn how to configure Siemens PLCs using the S7 protocol and integrate them with Node-RED on a Raspberry Pi-powered reComputer for efficient edge computing. Discover step-by-step guidance on setting up S7 nodes, creating flows, and monitoring PLC variables.",title:"Connecting Siemens PLCs Using the S7 Protocol with reComputer R1000",keywords:["Edge Controller","reComputer R1000","Node-Red","Siemens","S7","PLC"],image:"https://files.seeedstudio.com/wiki/reComputer-R1000/recomputer_r_images/01.png",slug:"/recomputer_r1000_nodered_s7",last_update:{date:"08/30/2024",author:"Kasun Thushara"}},a=void 0,s={unversionedId:"Edge/Raspberry_Pi_Devices/reComputer_R1000/Applications/Node-RED/recomputer_r1000_nodered_s7",id:"Edge/Raspberry_Pi_Devices/reComputer_R1000/Applications/Node-RED/recomputer_r1000_nodered_s7",title:"Connecting Siemens PLCs Using the S7 Protocol with reComputer R1000",description:"earn how to configure Siemens PLCs using the S7 protocol and integrate them with Node-RED on a Raspberry Pi-powered reComputer for efficient edge computing. Discover step-by-step guidance on setting up S7 nodes, creating flows, and monitoring PLC variables.",source:"@site/docs/Edge/Raspberry_Pi_Devices/reComputer_R1000/Applications/Node-RED/recomputer_r1000_nodered_s7.md",sourceDirName:"Edge/Raspberry_Pi_Devices/reComputer_R1000/Applications/Node-RED",slug:"/recomputer_r1000_nodered_s7",permalink:"/recomputer_r1000_nodered_s7",draft:!1,editUrl:"https://github.com/Seeed-Studio/wiki-documents/blob/docusaurus-version/docs/Edge/Raspberry_Pi_Devices/reComputer_R1000/Applications/Node-RED/recomputer_r1000_nodered_s7.md",tags:[],version:"current",lastUpdatedBy:"Kasun Thushara",lastUpdatedAt:1724976e3,formattedLastUpdatedAt:"Aug 30, 2024",frontMatter:{description:"earn how to configure Siemens PLCs using the S7 protocol and integrate them with Node-RED on a Raspberry Pi-powered reComputer for efficient edge computing. Discover step-by-step guidance on setting up S7 nodes, creating flows, and monitoring PLC variables.",title:"Connecting Siemens PLCs Using the S7 Protocol with reComputer R1000",keywords:["Edge Controller","reComputer R1000","Node-Red","Siemens","S7","PLC"],image:"https://files.seeedstudio.com/wiki/reComputer-R1000/recomputer_r_images/01.png",slug:"/recomputer_r1000_nodered_s7",last_update:{date:"08/30/2024",author:"Kasun Thushara"}},sidebar:"ProductSidebar",previous:{title:"reComputer R1000 act as OPC UA server with Node-RED",permalink:"/recomputer_r1000_nodered_opcua_server"},next:{title:"reComputer R1000 with Node Red and InfluxDB",permalink:"/recomputer_r1000_node_red_influxdb"}},l={},d=[{value:"Introduction",id:"introduction",level:2},{value:"Configuring Your PLC for S7 Protocol",id:"configuring-your-plc-for-s7-protocol",level:2},{value:"Configuring S7 Nodes in Node-RED",id:"configuring-s7-nodes-in-node-red",level:2},{value:"Install the S7 Node",id:"install-the-s7-node",level:3},{value:"Create a Flow",id:"create-a-flow",level:3},{value:"Configure the S7 Out Node",id:"configure-the-s7-out-node",level:3},{value:"Add Variables",id:"add-variables",level:3},{value:"Configure the Inject Node",id:"configure-the-inject-node",level:3},{value:"Add S7 In Node for Monitoring",id:"add-s7-in-node-for-monitoring",level:3},{value:"Deploy Your Flow",id:"deploy-your-flow",level:3},{value:"Tech Support &amp; Product Discussion",id:"tech-support--product-discussion",level:2}],u={toc:d},c="wrapper";function p(e){let{components:t,...o}=e;return(0,n.yg)(c,(0,r.A)({},u,o,{components:t,mdxType:"MDXLayout"}),(0,n.yg)("h2",{id:"introduction"},"Introduction"),(0,n.yg)("p",null,"The ",(0,n.yg)("strong",{parentName:"p"},"S7 Protocol")," is a communication standard developed by Siemens for their family of programmable logic controllers (PLCs). It's crucial for enabling smooth and reliable data exchange between Siemens PLCs. This protocol operates over Ethernet using a method called ISO TCP, which is structured around blocks of data known as Protocol Data Units (PDUs). Each PDU is a segment of information whose size and structure are determined when the connection is first established."),(0,n.yg)("p",null,"In this article, we'll explore how to use Node-RED, a popular flow-based development tool, on a Raspberry Pi-powered reComputer to interface with Siemens PLCs using the S7 Protocol. This setup allows for efficient and flexible integration of industrial automation systems with modern IoT platforms."),(0,n.yg)("h2",{id:"configuring-your-plc-for-s7-protocol"},"Configuring Your PLC for S7 Protocol"),(0,n.yg)("p",null,"After designing your Ladder or Function Block Diagram, the next step is to configure your Siemens PLC to enable the S7 protocol. The exact steps may vary depending on the PLC model you're using. For example, if you\u2019re using a ",(0,n.yg)("a",{parentName:"p",href:"https://www.siemens.com/global/en/products/automation/systems/industrial/plc/logo.html"},"Siemens LOGO PLC"),", you\u2019ll configure this in the LOGO Soft programming software."),(0,n.yg)("p",null,(0,n.yg)("strong",{parentName:"p"},"Network Configuration"),": Under the Ethernet settings, you'll need to input the PLC's IP address, subnet mask, and default gateway."),(0,n.yg)("p",null,(0,n.yg)("strong",{parentName:"p"},"Enable S7 Protocol"),": There\u2019s an option to allow S7 communication\u2014make sure to tick this box."),(0,n.yg)("center",null,(0,n.yg)("img",{width:600,src:"https://files.seeedstudio.com/wiki/reComputer-R1000/nodered/logo1.PNG"})),(0,n.yg)("p",null,(0,n.yg)("strong",{parentName:"p"},"Set Up S7 Communication"),": Add an Ethernet connection configured as an S7 server. You\u2019ll also need to set up the Client and Server TSAP (Transport Service Access Point)."),(0,n.yg)("center",null,(0,n.yg)("img",{width:400,src:"https://files.seeedstudio.com/wiki/reComputer-R1000/nodered/logo2.PNG"})),(0,n.yg)("admonition",{type:"note"},(0,n.yg)("p",{parentName:"admonition"},"If you\u2019re using a different Siemens PLC model, be sure to consult the relevant documentation for specific configuration steps.")),(0,n.yg)("h2",{id:"configuring-s7-nodes-in-node-red"},"Configuring S7 Nodes in Node-RED"),(0,n.yg)("p",null,"To integrate Siemens PLCs with Node-RED, you'll need to use the ",(0,n.yg)("inlineCode",{parentName:"p"},"node-red-contrib-s7")," node. Follow these steps to set it up:"),(0,n.yg)("h3",{id:"install-the-s7-node"},"Install the S7 Node"),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},"Go to the ",(0,n.yg)("strong",{parentName:"li"},"Manage Palette")," option in Node-RED."),(0,n.yg)("li",{parentName:"ul"},"Navigate to the ",(0,n.yg)("strong",{parentName:"li"},"Install")," tab and search for ",(0,n.yg)("inlineCode",{parentName:"li"},"node-red-contrib-s7"),"."),(0,n.yg)("li",{parentName:"ul"},"Install the node to add S7 capabilities to your Node-RED environment.")),(0,n.yg)("center",null,(0,n.yg)("img",{width:600,src:"https://files.seeedstudio.com/wiki/reComputer-R1000/nodered/nodered_s7.PNG"})),(0,n.yg)("h3",{id:"create-a-flow"},"Create a Flow"),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},"Drag and drop the ",(0,n.yg)("strong",{parentName:"li"},"S7 out")," node onto your workspace, along with two ",(0,n.yg)("strong",{parentName:"li"},"inject")," nodes."),(0,n.yg)("li",{parentName:"ul"},"Connect the inject nodes to the S7 out node to initiate communication with the PLC.")),(0,n.yg)("center",null,(0,n.yg)("img",{width:600,src:"https://files.seeedstudio.com/wiki/reComputer-R1000/nodered/s7_out.PNG"})),(0,n.yg)("h3",{id:"configure-the-s7-out-node"},"Configure the S7 Out Node"),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},"First, configure the endpoint by clicking the ",(0,n.yg)("inlineCode",{parentName:"li"},"+ (plus)")," icon.")),(0,n.yg)("center",null,(0,n.yg)("img",{width:600,src:"https://files.seeedstudio.com/wiki/reComputer-R1000/nodered/editS7.PNG"})),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},"Enter the ",(0,n.yg)("inlineCode",{parentName:"li"},"IP address")," of your PLC."),(0,n.yg)("li",{parentName:"ul"},"Set the Mode to ",(0,n.yg)("inlineCode",{parentName:"li"},"TSAP"),"."),(0,n.yg)("li",{parentName:"ul"},"Input the ",(0,n.yg)("inlineCode",{parentName:"li"},"Local TSAP")," and ",(0,n.yg)("inlineCode",{parentName:"li"},"Remote TSAP")," as configured in your PLC\u2019s server settings."),(0,n.yg)("li",{parentName:"ul"},"Give your PLC a recognizable name for easy identification.")),(0,n.yg)("center",null,(0,n.yg)("img",{width:600,src:"https://files.seeedstudio.com/wiki/reComputer-R1000/nodered/LOGO_endpoint.PNG"})),(0,n.yg)("h3",{id:"add-variables"},"Add Variables"),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},"Define each variable with a ",(0,n.yg)("strong",{parentName:"li"},"Name")," and ",(0,n.yg)("strong",{parentName:"li"},"Address"),"."),(0,n.yg)("li",{parentName:"ul"},"Use the appropriate address spaces corresponding to different block types (e.g., coils, inputs). You can refer to ",(0,n.yg)("a",{parentName:"li",href:"https://www.winccoa.com/documentation/WinCCOA/3.18/en_US/S7_Driver/topics/s7_address.html"},"Siemens S7 Address Documentation")," for more details."),(0,n.yg)("li",{parentName:"ul"},"Ensure each variable name accurately corresponds to its block type.")),(0,n.yg)("center",null,(0,n.yg)("img",{width:600,src:"https://files.seeedstudio.com/wiki/reComputer-R1000/nodered/logo_variables.PNG"})),(0,n.yg)("h3",{id:"configure-the-inject-node"},"Configure the Inject Node"),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},"Edit the inject node\u2019s payload to set a boolean value. Use one inject node for ",(0,n.yg)("inlineCode",{parentName:"li"},"true")," and another for ",(0,n.yg)("inlineCode",{parentName:"li"},"false"),".")),(0,n.yg)("center",null,(0,n.yg)("img",{width:500,height:300,src:"https://files.seeedstudio.com/wiki/reComputer-R1000/nodered/true.PNG"})),(0,n.yg)("center",null,(0,n.yg)("img",{width:500,height:300,src:"https://files.seeedstudio.com/wiki/reComputer-R1000/nodered/false.PNG"})),(0,n.yg)("h3",{id:"add-s7-in-node-for-monitoring"},"Add S7 In Node for Monitoring"),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},"Drag and drop the ",(0,n.yg)("strong",{parentName:"li"},"S7 in")," node to monitor variable values."),(0,n.yg)("li",{parentName:"ul"},"You can configure this node to view a single variable or all variables."),(0,n.yg)("li",{parentName:"ul"},"Select the corresponding ",(0,n.yg)("inlineCode",{parentName:"li"},"PLC, Mode"),", and ",(0,n.yg)("inlineCode",{parentName:"li"},"Variable")," you wish to monitor.")),(0,n.yg)("center",null,(0,n.yg)("img",{width:600,src:"https://files.seeedstudio.com/wiki/reComputer-R1000/nodered/s7_in.PNG"})),(0,n.yg)("h3",{id:"deploy-your-flow"},"Deploy Your Flow"),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},"Once everything is configured, deploy your flow to start communicating with your Siemens PLC.")),(0,n.yg)("center",null,(0,n.yg)("img",{width:600,src:"https://files.seeedstudio.com/wiki/reComputer-R1000/nodered/final.PNG"})),(0,n.yg)("h2",{id:"tech-support--product-discussion"},"Tech Support & Product Discussion"),(0,n.yg)("p",null,"Thank you for choosing our products! We are here to provide you with different support to ensure that your experience with our products is as smooth as possible. We offer several communication channels to cater to different preferences and needs."),(0,n.yg)("div",{class:"button_tech_support_container"},(0,n.yg)("a",{href:"https://forum.seeedstudio.com/",class:"button_forum"}),(0,n.yg)("a",{href:"https://www.seeedstudio.com/contacts",class:"button_email"})),(0,n.yg)("div",{class:"button_tech_support_container"},(0,n.yg)("a",{href:"https://discord.gg/eWkprNDMU7",class:"button_discord"}),(0,n.yg)("a",{href:"https://github.com/Seeed-Studio/wiki-documents/discussions/69",class:"button_discussion"})))}p.isMDXComponent=!0}}]);